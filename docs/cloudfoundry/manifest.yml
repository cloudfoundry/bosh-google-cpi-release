---
<%
# Ensure all expected ENV vars are set
['director', 'vip', 'region', 'zone', 'region_compilation', 'zone_compilation', 'network', 'compilation_subnet', 'private_subnet', 'project_id'].each do |val|
  if ENV[val].nil? || ENV[val].empty?
    raise "Missing environment variable: #{val}"
  end
end

# CF settings
director_uuid = ENV['director']
vip_ip = ENV['vip']
root_domain = "#{vip_ip}.xip.io"
common_password = "c1oudc0w"
deployment_name = "cf"

# Google network settings
google_region = ENV['region']
google_zone = ENV['zone']
google_region_compilation = ENV['region_compilation']
google_zone_compilation = ENV['zone_compilation']

network = ENV['network']
compilation_subnetwork = ENV['compilation_subnet']
private_subnetwork = ENV['private_subnet']

# Google service account settings
project_id = ENV['project_id']
org, project = project_id.split(":")
project_domain_prefix = [project, org].compact.join(".")
cf_service_account = "cf-component@#{project_domain_prefix}.iam.gserviceaccount.com"
%>
ssl_cert: &ssl_cert |
  -----BEGIN CERTIFICATE-----
  MIIBrTCCARYCCQC8Nv/VzAW5gzANBgkqhkiG9w0BAQsFADAbMQ0wCwYDVQQKDARC
  b3NoMQowCAYDVQQDDAEqMB4XDTE0MDcyNDA0MjkzNloXDTI0MDcyMTA0MjkzNlow
  GzENMAsGA1UECgwEQm9zaDEKMAgGA1UEAwwBKjCBnzANBgkqhkiG9w0BAQEFAAOB
  jQAwgYkCgYEAusGqZW2nSyqSI5RY8Hm8270XfYEuR3kPVYuwwAftEi7BSaR+4fpb
  a9kXaJwcPMIecQOsPTByoqyXfseUx1yZVBEnq/7ZjYj1ipfGa99XfQEjCzXaS3Je
  NkdwhJf3IZf7XQMhSZMs7NmvZ6aD91st83NCr316fdDoKvRRi66YlOcCAwEAATAN
  BgkqhkiG9w0BAQsFAAOBgQCc6HCnAY3PdykXNXLyrnRk31tuHCrwSKSGH+tf24v8
  DO9wUuuja+jGYou5lE+lzRs8KBYR97ENb0hNC0oYrU3XWinWJAdM2Dp3/lWQJF9T
  9yQKNnctjW6U7YbCqkbkZXesZglSjtTnyiVlD59shmDNZZCQnbG7CLkrnlQGuM4n
  zg==
  -----END CERTIFICATE-----
  -----BEGIN CERTIFICATE REQUEST-----
  MIIBWjCBxAIBADAbMQ0wCwYDVQQKDARCb3NoMQowCAYDVQQDDAEqMIGfMA0GCSqG
  SIb3DQEBAQUAA4GNADCBiQKBgQC6waplbadLKpIjlFjwebzbvRd9gS5HeQ9Vi7DA
  B+0SLsFJpH7h+ltr2RdonBw8wh5xA6w9MHKirJd+x5THXJlUESer/tmNiPWKl8Zr
  31d9ASMLNdpLcl42R3CEl/chl/tdAyFJkyzs2a9npoP3Wy3zc0KvfXp90Ogq9FGL
  rpiU5wIDAQABoAAwDQYJKoZIhvcNAQELBQADgYEAVpFm7oKKgQsuK1RUxoJ25XO2
  aS9GpengE57N0LH1dKxyHF7g+fPer6YAwpNE7bZNjyPRkng33OJ7N67nvYtFs6eN
  CFBf8okWpmFgJ6gC5zNxYQRm1RU7+RUpM2ceMT1g14SmA5ffS48rYaSx2raKphYA
  KI1neJFzwM3gQfrwI+s=
  -----END CERTIFICATE REQUEST-----
ssl_key: &ssl_key |
  -----BEGIN PRIVATE KEY-----
  MIICeAIBADANBgkqhkiG9w0BAQEFAASCAmIwggJeAgEAAoGBALrBqmVtp0sqkiOU
  WPB5vNu9F32BLkd5D1WLsMAH7RIuwUmkfuH6W2vZF2icHDzCHnEDrD0wcqKsl37H
  lMdcmVQRJ6v+2Y2I9YqXxmvfV30BIws12ktyXjZHcISX9yGX+10DIUmTLOzZr2em
  g/dbLfNzQq99en3Q6Cr0UYuumJTnAgMBAAECgYEAjQFwcEiMiXpJAMgfJuIjsB1j
  QQVqNdi3tTVVbIgPfS0ED2A91M08fX9Z50gHIfDHHzlQsJqF00FQ2Q5DzQqjUMS+
  EJvVQsen71B8LNkKB+8GlJjTN+QoW0UAWtvK6gRYB4VIe+5LrWlioQWHucYH8UzB
  veyzthWQBPfxDkYrvdECQQDsR0T/oo0kN3GHcwRe4p4oVMUncu9pci8IRZf7gSKN
  8db+LVTSm7jrhUOmSmCL//A2VnoNpPriFaP573dHH9kLAkEAylg56itY8Kn9AAAk
  1BlFprO0Odecz8Cf8ZNzzpAvnN/AqRSF04PTUCRavJonGirW6tU+qgybMMO3uVHf
  9/W1FQJAQn/Ihp4sVS4ZkMKpTz8+viEln/W0NhxB6nUT0mBE5mhTVxRRFDlpsTe/
  k3TJeX2eEN0D2wU86xamIPjpvCXVgwJBAJ+CQ01tFHTLnEz20BF/Rp/uQ+HhLZW8
  pJlcgstQcKg63vaq3gBqiBdCQWEyKCcBpGCE8Bw/Sct8TgXCHEutHy0CQQCv14lC
  nM7h6y+I9r3cqZRBDMfWpvAl25doctNWY0McmudIT9FHIBtvayRnBqa9Z554Bk6S
  f+4pffb9Gl/e6Fxh
  -----END PRIVATE KEY-----

name: <%= deployment_name %>
director_uuid: <%= director_uuid %>


releases:
  - name: cf-mysql
    version: "23"
  - name: cf
    version: "249"
  - name: diego
    version: "0.1463.0"
  - name: garden-linux
    version: "0.340.0"
  - name: etcd
    version: "43"
  - name: routing
    version: "0.142.0"

compilation:
  workers: 12
  network: compilation
  reuse_compilation_vms: true
  cloud_properties:
    zone: <%= google_zone_compilation%>
    region: <%= google_region_compilation%>
    machine_type: n1-standard-2
    root_disk_size_gb: 100
    root_disk_type: pd-ssd
    preemptible: true
    service_account: <%= cf_service_account%>

update:
  canaries: 1
  canary_watch_time: 30000-300000
  update_watch_time: 30000-300000
  max_in_flight: 1
  serial: false

networks:
  - name: compilation
    type: manual
    subnets:
    - range: 10.200.0.0/16
      gateway: 10.200.0.1
      cloud_properties:
        zone: <%= google_zone_compilation%>
        region: <%= google_region_compilation%>
        network_name: <%= network%>
        subnetwork_name: <%= compilation_subnetwork%>
        ephemeral_external_ip: false
        tags:
          - cf-internal
          - internal
          - no-ip

  - name: private
    type: manual
    subnets:
    - range: 192.168.0.0/16
      gateway: 192.168.0.1
      cloud_properties:
        zone: <%= google_zone%>
        network_name: <%= network%>
        subnetwork_name: <%= private_subnetwork%>
        ephemeral_external_ip: false
        tags:
          - cf-internal
          - internal
          - no-ip

  - name: vip
    type: vip

resource_pools:
  - name: common
    network: private
    stemcell:
      name: bosh-google-kvm-ubuntu-trusty-go_agent
      version: latest
    cloud_properties:
      zone: <%= google_zone%>
      machine_type: n1-standard-1
      root_disk_size_gb: 20
      root_disk_type: pd-standard
      service_account: <%= cf_service_account%>

  - name: gorouter
    network: private
    stemcell:
      name: bosh-google-kvm-ubuntu-trusty-go_agent
      version: latest
    cloud_properties:
      zone: <%= google_zone%>
      machine_type: n1-standard-1
      root_disk_size_gb: 20
      root_disk_type: pd-standard
      target_pool: cf-public
      service_account: <%= cf_service_account%>
      tags:
        - cf-public

  - name: tcprouter
    network: private
    stemcell:
      name: bosh-google-kvm-ubuntu-trusty-go_agent
      version: latest
    cloud_properties:
      zone: <%= google_zone%>
      machine_type: n1-standard-1
      root_disk_size_gb: 20
      root_disk_type: pd-standard
      target_pool: cf-tcp-public
      service_account: <%= cf_service_account%>
      tags:
        - cf-tcp-public

  - name: cells
    network: private
    stemcell:
      name: bosh-google-kvm-ubuntu-trusty-go_agent
      version: latest
    cloud_properties:
      zone: <%= google_zone%>
      machine_type: n1-standard-1
      root_disk_size_gb: 100
      root_disk_type: pd-standard
      service_account: <%= cf_service_account%>

disk_pools:
  - name: consul
    disk_size: 1024

  - name: etcd
    disk_size: 1024

  - name: blobstore
    disk_size: 10240

  - name: mysql
    disk_size: 10240

  - name: diego-database
    disk_size: 1024

  - name: diego-brain
    disk_size: 1024

jobs:
  - name: nats
    templates:
      - name: nats
        release: cf
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]

  - name: consul
    templates:
      - name: consul_agent
        release: cf
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: common
    persistent_disk_pool: consul
    networks:
      - name: private
        default: [dns, gateway]
    properties:
      consul:
        agent:
          mode: server

  - name: etcd
    templates:
      - name: etcd
        release: cf
      - name: etcd_metrics_server
        release: cf
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: common
    persistent_disk_pool: etcd
    networks:
      - name: private
        default: [dns, gateway]
    properties:
      etcd:
        peer_require_ssl: false
        require_ssl: false

  - name: diego-database
    templates:
      - name: etcd
        release: etcd
      - name: bbs
        release: diego
      - name: consul_agent
        release: cf
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: common
    persistent_disk_pool: diego-database
    networks:
      - name: private
        default: [dns, gateway]
    properties:
      etcd:
        machines:
          - etcd.service.cf.internal
        cluster:
          - name: diego_database
            instances: 1
        ca_cert: &etcd_ca_cert |
          -----BEGIN CERTIFICATE-----
          MIIC+zCCAeOgAwIBAgIBADANBgkqhkiG9w0BAQUFADAfMQswCQYDVQQGEwJVUzEQ
          MA4GA1UECgwHUGl2b3RhbDAeFw0xNTExMTgyMDI3MTZaFw0xOTExMTkxOTQ3MTZa
          MB8xCzAJBgNVBAYTAlVTMRAwDgYDVQQKDAdQaXZvdGFsMIIBIjANBgkqhkiG9w0B
          AQEFAAOCAQ8AMIIBCgKCAQEAwAI/I5GhhpWpJdSUM5rrOWpoKvL9ylINZOxs1kcm
          2g35sipVE/+Vg+8tb3A7sOKLTa/+/yWNaY3o1sv+eIxjsHtIt7Tj1gkFZWpHZ6RX
          jkzyrPCTqaMCrcOjarRRdsI5ExA4CX8qsFFQrYv5Xrv0o0XfctXwAVkc68NxyHov
          v0x0h2ULvp1iff5QyT183LDjOUiiK3gqSrj6BpQy6yp/e/X/aZatQEjvaLuWqmU3
          Zv6WLMA36vPVr4JoZxu9beD4QW+5PBsmGz9yrpaB7jOnFwhU0zvtv/vSZxdrpLmY
          b4ZwXHMR2oY045OdJWI6bwXuOSofPj95aItjKVn5Swuy3QIDAQABo0IwQDAdBgNV
          HQ4EFgQUXMQUYHcIWzZ6aUtbc4Yv/4xGfjswDwYDVR0TAQH/BAUwAwEB/zAOBgNV
          HQ8BAf8EBAMCAQYwDQYJKoZIhvcNAQEFBQADggEBAEhU5Gl+ywoJPRyEvXcrlGdS
          fbvzIQyLS6C6GnXpDTqOLIXtTqrUJkqVH6GXBQcBShtXzfvW5Rua4HDEKj6wPF4j
          5QziIE0UrdJdFMupA3cPE449gITGFG20/O3xXGmeWzIijbFgKOEYyQIkExR3lcqb
          czPN1MMNB6pI+HZVk0sn2QPD3p5kTnJRF0/wvq1rUbQ1ddW1BroCDywTecAgGK1X
          k2OIFEg0Js7aX9/M/jLnNjTdjc5RUE45b0chPQJ9lv2Ub4jqItqtrZhy77a0e5Pb
          ucAbKSizVP/2rml1JzLmL6V4jJtI6RWrUHuCIQDCFBvqN6cHqoQW8x++UuuPe44=
          -----END CERTIFICATE-----
        server_cert: &etcd_server_cert |
          -----BEGIN CERTIFICATE-----
          MIIDgjCCAmqgAwIBAgIUM0sWbTuPAXAjWADfVZyGdLbHkw0wDQYJKoZIhvcNAQEF
          BQAwHzELMAkGA1UEBhMCVVMxEDAOBgNVBAoMB1Bpdm90YWwwHhcNMTUxMTE4MjA0
          NTA4WhcNMTcxMTE3MjA0NTA4WjBCMQswCQYDVQQGEwJVUzEQMA4GA1UECgwHUGl2
          b3RhbDEhMB8GA1UEAwwYZXRjZC5zZXJ2aWNlLmNmLmludGVybmFsMIIBIjANBgkq
          hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoK5LvNzQSCSKYlCtLOD/Ju67Xd6kRhiQ
          a1Up0Lg62j5HnzLCyTIpItj6w5hiIGgNhBwQvMEid8SnPAb8IT9NARKbDyNXPmg+
          hhfLoW2XTrZwnAP+ccocGcNiFAC/OPEsZUQ1XzY/8K+uAlhfp3Y7hWMNgpaQZlIw
          wPRs8SNfM0MxEYPttfQhMpkSAnLoKp0n/1iSKzzZmxziXThEDx0Ach3xeaGGjXWl
          r32jHTDfi7mEl+NqkhWQZu12/KI+jCTjYmQyny51EAYsXInhZET2uMboQzpNtuXi
          INHo+0h/gKbHi3RFwlXw4FbcoQ7HeAz0s32NV658sJLDJd+w5r/r3QIDAQABo4GS
          MIGPMA4GA1UdDwEB/wQEAwIHgDAdBgNVHQ4EFgQUC7pemq7IcM9rRqjuIUcK6mQg
          yBIwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMD8GA1UdEQQ4MDaCGGV0
          Y2Quc2VydmljZS5jZi5pbnRlcm5hbIIaKi5ldGNkLnNlcnZpY2UuY2YuaW50ZXJu
          YWwwDQYJKoZIhvcNAQEFBQADggEBAD/bFCLpiH5zX9dcw4/No/Nmpootisw3TJlM
          MbV5h5OYb+5rft68j6LM+8gl7YPKol/1yR6z0uqh/Sn3EfkjXPEtL98LDDANSJMO
          8WCmaqnxFnqkZXkel75owrcXdAHIYBU65+v8XVhLdEh2eVcTG2PLBqdMqEr6zBGi
          NXl0cHpcu/icjA9NWUIJmliCk+jM4/ZLexZwUVnYXvaz8SwSxvpxb0rU4Si4pZQS
          dY8iQch9cK1rjICFQibQMz7o0rYtZpQx7OxoqK1hbWgyjFIRgQ8xGH8zqs+T2jYO
          ehq9BZC6Uz/XDuhiNuWhZzhqfYG9iEI8FDYnYR1PZbDAB8aPOps=
          -----END CERTIFICATE-----
        server_key: &etcd_server_key |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEogIBAAKCAQEAoK5LvNzQSCSKYlCtLOD/Ju67Xd6kRhiQa1Up0Lg62j5HnzLC
          yTIpItj6w5hiIGgNhBwQvMEid8SnPAb8IT9NARKbDyNXPmg+hhfLoW2XTrZwnAP+
          ccocGcNiFAC/OPEsZUQ1XzY/8K+uAlhfp3Y7hWMNgpaQZlIwwPRs8SNfM0MxEYPt
          tfQhMpkSAnLoKp0n/1iSKzzZmxziXThEDx0Ach3xeaGGjXWlr32jHTDfi7mEl+Nq
          khWQZu12/KI+jCTjYmQyny51EAYsXInhZET2uMboQzpNtuXiINHo+0h/gKbHi3RF
          wlXw4FbcoQ7HeAz0s32NV658sJLDJd+w5r/r3QIDAQABAoIBAGPUpr3Ku6V2/nuj
          AFVX3W9E+CiUQaBDdscY/IfvTrF17G3ezeLPRXufL/4CWUUlIPCpt0RvAolDJ1xG
          QrQtbhxygOBg5r2haudJNX0wZ8fB1ik42ge8uMTQ/cjLxgMM5LZuMHLdc9CIdiaC
          3btf3A89wZEXFtRb0Gqx8lXH0kg4RLhk6zTnQ2JoeboiYq5DDY2O/gxNkbNSXCVA
          pLxqFCxt7pU5QscPtbmGk9Y2stRMjyp2CGIev/643yi0Q/SQqbn2SKZv32jIWmwx
          jCkZeQPbozjS/5bi555UZpEcHAMK076zYF7+lyvSkxP3Mp5zKLiMFIuX/5vU7Cae
          yzR8ZQECgYEA0tAz09jQq90CLb+TlKY4gBTvlM4JGZ1K5ci5qv5l3g8pM8XUgmQN
          6/42o3jTgmNvGKPF+aGOiEA1OXTWa7DG4YP1Slh8AYevJw+HnlKz4NKBlLkHwEhN
          hAo5rHyHFHJuZJQpquiBSkBpce6nNeTjJPesi6Y+oJXKvLXc0k6M6r0CgYEAwx82
          tBawJnhvBIkclUOZe0+RHeK3598dC8J5R3Bc5cM/0NVJg6m8PquhLEArXKkksIo4
          J/7BIw0M1A9ZxUvtqq/4nfuTMUy20RBTU4MAcVgNLOIw49sYe9s+cApM/5NqGbLU
          dnIsu5Vd2bZAJQK5TUowqjp32XcPjD5TAa5rp6ECgYBrHPSoeCqWmGXp/sQqrEZa
          9chBkGpZRG1w0YtdEYOKz6M8thDi65mTRghXCSZWwtUI7PXDf83e9tjUR8RG1XxH
          y3ePfeQMFvfs3dwnmpfg7LSAb387uMECDPv+4wrzXa0vl4SQXTCMHKw3Am6dWJ39
          A4b9McvyZgmr1q/Lf7Pj9QKBgBMU1VutMFLCylCOPA5YywSlFlLu3f898XA593RG
          B7+sZWw9v2+xxKf4Ts2uBM+N9vmQuscmgaq01wFR8vx5XWeox85jUNSsZOBzEUME
          d6Gd88Pk5tURkwZhvWxlhXwk5WZX97ERn1BE3iWxTfqQlqB5VeL/zsKkgw+69JEg
          hoShAoGAcginf7QsysxQ9J6of4djDX2UskLD6gJ82tYDIRmoYU7i4nhiAV5h97VC
          gZwLkJshvJobLOvWYHQz22hlvBCR+2f0nTV65qsQGS24p3fEptTQGtjR7MdK6hAt
          zcG+1F1Srm4249/fsSWBuNhc/fUZc44vmsU0/WAhPAbqEdHvlqI=
          -----END RSA PRIVATE KEY-----
        client_cert: &etcd_client_cert |
          -----BEGIN CERTIFICATE-----
          MIIDNzCCAh+gAwIBAgIUSiZNDq8jWIzmpucRnoryqSz2PTswDQYJKoZIhvcNAQEF
          BQAwHzELMAkGA1UEBhMCVVMxEDAOBgNVBAoMB1Bpdm90YWwwHhcNMTUxMTE4MjA0
          NTA4WhcNMTcxMTE3MjA0NTA4WjA6MQswCQYDVQQGEwJVUzEQMA4GA1UECgwHUGl2
          b3RhbDEZMBcGA1UEAwwQZXRjZF9jbGllbnRfY2VydDCCASIwDQYJKoZIhvcNAQEB
          BQADggEPADCCAQoCggEBANV/dP1u7KViVLefJxAbOkl4dXGAFfJRfKqQpg4CyA3w
          UHOA99H4cAcwbXoEOaDfqI8ShE0ST0IgenkkvkT6w+p4f4NCMG/OoXxeDaZE6dCK
          gsq/AMI67tFpt2YXN6P19Izzs9BQpk9U/v8SZwoJXMVj0Dba9zD8ulG8LE7it4PF
          a+YW3rIDdzwQHMZtgh0tzcvjDFc0suvQSsqakh+Ng1XPgVVKKe4T79BQOOkXgFNL
          xbIqsnGWJtAwd3D41b0EevSjQTlgdoJKvY/X5wGG1x1l4qKEuZmqgiDH4zRLdTGG
          /IXLOIr0Zcs+CVBLME41uMFbcjzSMCd93+mqOpRxMxcCAwEAAaNQME4wDgYDVR0P
          AQH/BAQDAgeAMB0GA1UdDgQWBBRFAsRZSfanZpJK+ScqtNAHveXxPTAdBgNVHSUE
          FjAUBggrBgEFBQcDAgYIKwYBBQUHAwEwDQYJKoZIhvcNAQEFBQADggEBAFLr414b
          Pxb0VYCz+OmqaZT5gvZ7uG4wBlmTdMqNIBmU2hZJmtYA/bnLXtzRYlyHlBES/cEK
          K4mwl8xXWE8131qaF1ua6ZOmkWJGJYl8PIW/V3hL+9q/1GD7RP9LgrQEF9Mdb4PW
          i6XRdEB5Z2X97JMOP4XJ1n+trqZaAYEboFvh/ICP06C4p3B+pM7btTyJ1qv1T/Gh
          WMV2qiVP9yIfI8UbU2MaaXlF6bW5xWgmgt+6NIPyyXh5DQg21smBKcybAjGNVOyC
          ZxT9QWKgoJVvpyFlYq5rg05MZXtKzQtozVECAa3F+5pH2WZjjm12g3Em3pJjZ6k1
          sO4Xc1kAHbgvjQ4=
          -----END CERTIFICATE-----
        client_key: &etcd_client_key |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEpQIBAAKCAQEA1X90/W7spWJUt58nEBs6SXh1cYAV8lF8qpCmDgLIDfBQc4D3
          0fhwBzBtegQ5oN+ojxKETRJPQiB6eSS+RPrD6nh/g0Iwb86hfF4NpkTp0IqCyr8A
          wjru0Wm3Zhc3o/X0jPOz0FCmT1T+/xJnCglcxWPQNtr3MPy6UbwsTuK3g8Vr5hbe
          sgN3PBAcxm2CHS3Ny+MMVzSy69BKypqSH42DVc+BVUop7hPv0FA46ReAU0vFsiqy
          cZYm0DB3cPjVvQR69KNBOWB2gkq9j9fnAYbXHWXiooS5maqCIMfjNEt1MYb8hcs4
          ivRlyz4JUEswTjW4wVtyPNIwJ33f6ao6lHEzFwIDAQABAoIBAQCp+bTZxQNxVI0g
          N/ywrQzFy7qtJ43Rg6DeZxVdmEdQGaDjpK0pJUOD5cFzYIPFGewoJFTiy44Alr0L
          T/6QCpoKRe83QG4xxe/5hSQW2UzR9ETXSCRBfwv9+83A4QEyb7JIugnR8zPFe2Ud
          DLiuW+/ZU3NFCSW+gaeRRWB9WbFDnWhL3u0xpdPYyVDoItKqH+6KHMkZ8vpfmsbh
          8QZOPb7jcGU3kAEbIG9cg+hl/vZI8el3Mni5tZQoCK875+mmezsU54nAHyBOmuDR
          u/axX8lTnI6AMJTpC9yxtDcEKf+Jpf0GQz6G90mT8oMhyQAiCLxWWJq/rD5aM0uU
          xt3DS6exAoGBAPcIaN0mKTgKAjYUcKhDrbxb1c9Qk8pM4UtQSCujINTLJi9unJZv
          am6S9SNYfNBMsPmgczNNAQlscZtstk6ZAUNAdMzrUxZuWIopbznjSoD1SjVEoo1X
          yvbu+YGN9TNzSjofLDczbAucFuaQ+jKPHzfhdECd49nRhGgcEFd/avO/AoGBAN0/
          ayWDGrbW41wGLXMZvIz4YPHs3+UosvEHqQpzb5DtBKTc+2DQ8HznFe3ltB2wTPDV
          B7Yc8RckC/3Dw8xh5vWBn4S/cbGiDbBqmZm8e81PnCPrtjJQSMvtL6CP9rsq+Emf
          0Dyia2gqjN049uQSOiL4mOC2m/WFYvOEXclDlDapAoGAexqKv2Ir+kwqi+6lsYSA
          iLQvGW/rJk4nm5N3U5+oVcKi1dJGYEVHgbDkTmfjUx5UtyE5J2CBWsPa3XxQYVyo
          H254hkHjFvOIVdmOHwfgceFKyL7aTptofqPaXLB0d95FKC+uphePCT4Qv3eR5y4h
          fYRxnV3RVROu6v7JOgE6OBsCgYEAhfQCrEiPYQoDx9CZrel0JimvkGnpOPaGOLZ5
          mzE+6BEI0cRVkk2OfSDwPwPnJF58hweDzrgBJBCYDgF7x3+y9QuRCC9c576E6T3x
          V4otrqW3lGv++MFxAb7OKjlfmfyvLOxMiJmRzBSPCtWVbYq3ljrLXKpTDLjAq02F
          9vgqgVkCgYEAiBclzilLmCLVyI8P2avm+QFPsGh2A/012fE1Utubf+3pGE6nBi/2
          dC9GhjOReVMVqH7PIgaeNQtGVVG4VxRBW8aiHaV63xYTN7Cxeks4GSIGNBKZANuJ
          u/wqjmT4rRYCre4rXUNBRWVvADBotzCoJGfl4p3ZttgcvDGKncdHfQo=
          -----END RSA PRIVATE KEY-----
        peer_ca_cert: &etcd_peer_ca_cert |
          -----BEGIN CERTIFICATE-----
          MIIC+zCCAeOgAwIBAgIBADANBgkqhkiG9w0BAQUFADAfMQswCQYDVQQGEwJVUzEQ
          MA4GA1UECgwHUGl2b3RhbDAeFw0xNTExMTgyMDI3MTZaFw0xOTExMTkxOTQ3MTZa
          MB8xCzAJBgNVBAYTAlVTMRAwDgYDVQQKDAdQaXZvdGFsMIIBIjANBgkqhkiG9w0B
          AQEFAAOCAQ8AMIIBCgKCAQEAwAI/I5GhhpWpJdSUM5rrOWpoKvL9ylINZOxs1kcm
          2g35sipVE/+Vg+8tb3A7sOKLTa/+/yWNaY3o1sv+eIxjsHtIt7Tj1gkFZWpHZ6RX
          jkzyrPCTqaMCrcOjarRRdsI5ExA4CX8qsFFQrYv5Xrv0o0XfctXwAVkc68NxyHov
          v0x0h2ULvp1iff5QyT183LDjOUiiK3gqSrj6BpQy6yp/e/X/aZatQEjvaLuWqmU3
          Zv6WLMA36vPVr4JoZxu9beD4QW+5PBsmGz9yrpaB7jOnFwhU0zvtv/vSZxdrpLmY
          b4ZwXHMR2oY045OdJWI6bwXuOSofPj95aItjKVn5Swuy3QIDAQABo0IwQDAdBgNV
          HQ4EFgQUXMQUYHcIWzZ6aUtbc4Yv/4xGfjswDwYDVR0TAQH/BAUwAwEB/zAOBgNV
          HQ8BAf8EBAMCAQYwDQYJKoZIhvcNAQEFBQADggEBAEhU5Gl+ywoJPRyEvXcrlGdS
          fbvzIQyLS6C6GnXpDTqOLIXtTqrUJkqVH6GXBQcBShtXzfvW5Rua4HDEKj6wPF4j
          5QziIE0UrdJdFMupA3cPE449gITGFG20/O3xXGmeWzIijbFgKOEYyQIkExR3lcqb
          czPN1MMNB6pI+HZVk0sn2QPD3p5kTnJRF0/wvq1rUbQ1ddW1BroCDywTecAgGK1X
          k2OIFEg0Js7aX9/M/jLnNjTdjc5RUE45b0chPQJ9lv2Ub4jqItqtrZhy77a0e5Pb
          ucAbKSizVP/2rml1JzLmL6V4jJtI6RWrUHuCIQDCFBvqN6cHqoQW8x++UuuPe44=
          -----END CERTIFICATE-----
        peer_cert: &etcd_peer_cert |
          -----BEGIN CERTIFICATE-----
          MIIDgjCCAmqgAwIBAgIUQWAM/+Fzbw9eWshdyUorgAD5mOMwDQYJKoZIhvcNAQEF
          BQAwHzELMAkGA1UEBhMCVVMxEDAOBgNVBAoMB1Bpdm90YWwwHhcNMTUxMTE4MjA0
          NTA4WhcNMTcxMTE3MjA0NTA4WjBCMQswCQYDVQQGEwJVUzEQMA4GA1UECgwHUGl2
          b3RhbDEhMB8GA1UEAwwYZXRjZC5zZXJ2aWNlLmNmLmludGVybmFsMIIBIjANBgkq
          hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0JMW2C6W9q+fa/2tHMFUN1ToAZ9RwBRP
          JCXARXFj52pF8jjqzudT6fb81Yw0ak45hAbDuOreaHShtLLFqzkIhnmh2WJllB2l
          f7x1Mbs4S8tfkNgCVb526LLpAYFfLJ6K4KS8Dk8L/8d291Wr0/kVlB9ZuFcXE4Ug
          j1U+Ali08PfKduVFPOukkzJ2kS70s0krVSTrcXBRGmUvthBLf+LkXTPpmxGDnQcx
          Z4A5CMtE2uEbRrlQPmC6CWWGsjggmJ23lUcwLQrH/TiEfxrNV0A5oIg0AOP5ps4F
          PpUrFrjsPHneJds/3inmU9UIu1eLbkTGHGw+LXG/JP0Lng15frpruwIDAQABo4GS
          MIGPMA4GA1UdDwEB/wQEAwIHgDAdBgNVHQ4EFgQUP2awOWj18GEPeR4lmqzB3IbZ
          J5cwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMD8GA1UdEQQ4MDaCGGV0
          Y2Quc2VydmljZS5jZi5pbnRlcm5hbIIaKi5ldGNkLnNlcnZpY2UuY2YuaW50ZXJu
          YWwwDQYJKoZIhvcNAQEFBQADggEBAAHZ32ebyGU1GjO8pPRIcHi2RbltX345rJ2o
          QYBpbKf+k/wcUBgMqI+M0qqjN+LLm86hvjba7uGAls3rB1tQLPGIawKVNy+HtxU7
          2n7ah4Sv/5dragOsv1MtyfHp63NqfB7GFL+CJfuHoVDFF/6s3PiJEtLX6vJVvXZZ
          0kbDmOsDQHPPdVCu6wXfArXlIbo5gP3kerzkaHNftn46I8djCebPuaJu0aQ+0Sj7
          rYhaet+HlU7w77LUWlrZsCQF5ftApOFcZkEwvYLcJo1gqER1GO75ViG8+QVfS0zC
          hQVgyqFWYlnsWCrZM4qZqVR9zbuaQ8K+qIhVuWX33L6A2XinlC4=
          -----END CERTIFICATE-----
        peer_key: &etcd_peer_key |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEpAIBAAKCAQEA0JMW2C6W9q+fa/2tHMFUN1ToAZ9RwBRPJCXARXFj52pF8jjq
          zudT6fb81Yw0ak45hAbDuOreaHShtLLFqzkIhnmh2WJllB2lf7x1Mbs4S8tfkNgC
          Vb526LLpAYFfLJ6K4KS8Dk8L/8d291Wr0/kVlB9ZuFcXE4Ugj1U+Ali08PfKduVF
          POukkzJ2kS70s0krVSTrcXBRGmUvthBLf+LkXTPpmxGDnQcxZ4A5CMtE2uEbRrlQ
          PmC6CWWGsjggmJ23lUcwLQrH/TiEfxrNV0A5oIg0AOP5ps4FPpUrFrjsPHneJds/
          3inmU9UIu1eLbkTGHGw+LXG/JP0Lng15frpruwIDAQABAoIBAG62FMMtf75znFiz
          L4d661vverMZwUgGv7d9PmDd/lyg4X3gTmsDCVzAWJZ1tIDVAtycxplKOkIR3p/O
          4POw82CGAa4k96w2TFnQTBjYutoompKExkCDOBTumpXM+RrzEN6LMrMZrFHZq8E/
          vVRn+9dDCNm7iKk42f6bDa4rLehVeO7zhGpQzozBoqMlCGZ5I1IDakPGmzpk5B2H
          y2fml0tMVEd7hUEFKNE2t0y8fVW8CiPmR2htEBijSSw+Z3EQeozZEzmJNCEx8Mtb
          bUfCgbvmO0tmAjgWIbUBB+vf6sr2vJapBdbkd6/Q30b2IB0Q9faSkOjCA9ycu7N/
          3CPjbiECgYEA+9vfTykwlhvYY8uGvPigBmvnby7nCQWC186D0Gjt3SkYxY7Z0+pW
          v8YnYFiPDZ7FMHf808osgNXaWvxQdWWN2sAd5TrwYPa68Gzw/v/Lq2WzR1kdkLGL
          WlEbHiuy5ZTsNNy2/i17FqgdoZglv52DqPzWOZMzXVelpLy91UQ8APECgYEA1AEG
          KECgcnUGZ7gvYLNi0KfuLLT6Zdd255Cu1Vu4ZxXvxQG3tOd8znRwJho+guJoFaNH
          ItofqIn3O5SG/rTtlj/ZN9oO0lygwT0d18RobJiK2p0YRItvNNBFQc0Q4hDqqUDb
          sUbBDrTcEKmJ66RbRXggX1C96QF2GgNOTgiWd2sCgYEA+oGSVmlQsy1VCMWp6ZGd
          kWWIF1VeZOG/Z6k4AHYtiNlUk0Nns9kUmcCc776F4vU1iuT9ayZfJ3INsovd9zag
          ZqDJ23PJHZirDXI+LlP8nykTrXac6os9YQLk5xht4t5CJr4VoTFZiYqDlnP/r9wa
          1V1OMowP/dqsnfNBGbu5tvECgYA4VQVT0MhRYXMQQEqmgUPyeYy56GTYhsYbhcBP
          BQ4cpiGN0YUE1rW9Dgd2uGZ/1LUfesE+K4NZ/z7oX/D24RB4agLH6nMhxmcYsaqq
          WI/+uxG6QR/fpsUn3WdpspmX2DLiQk+d7VUDGV+YNdRl/sgZz2+apBOyRCcjhlla
          NsH0fQKBgQCG8cENarNWXQW/oaYvSKzK226ckbtYdAS7im5rzYqxcuDKvI2ocMtp
          EjNJTCQK8xvxW0nnefLYLbUD+ZA8L9DrEf+Sgr3Zwp+m58nL9XlGHeZE2wymwqCB
          ETMxxm/r9PEu5JFFIl3c56/L9REZYDyhpwR5tELQCFxGuKT5Wxlfnw==
          -----END RSA PRIVATE KEY-----
      consul:
        agent:
          services:
            etcd: {}

  - name: blobstore
    templates:
      - name: blobstore
        release: cf
      - name: route_registrar
        release: cf
      - name: consul_agent
        release: cf
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: common
    persistent_disk_pool: blobstore
    networks:
      - name: private
        default: [dns, gateway]
    properties:
      route_registrar:
        routes:
          - name: blobstore
            port: 8080
            registration_interval: 20s
            tags:
              component: blobstore
            uris:
              - "blobstore.<%= root_domain %>"
      consul:
        agent:
          services:
            blobstore: {}
      blobstore:
        tls:
          cert: &blobstore_cert |
            -----BEGIN CERTIFICATE-----
            MIIEhzCCAm+gAwIBAgIRAOjmnMUgT34g5STe5Xo7OTUwDQYJKoZIhvcNAQELBQAw
            FjEUMBIGA1UEAxMLYmxvYnN0b3JlQ0EwHhcNMTYxMjE4MTkxMTA3WhcNMTgxMjE4
            MTkxMTA3WjAoMSYwJAYDVQQDEx1ibG9ic3RvcmUuc2VydmljZS5jZi5pbnRlcm5h
            bDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMTPD+ZrScdB5I9IJueD
            JklvwCOTtb/EAd9mwa17g37HvNkh8S+4HdH/Y0IVEPeWT9IBfyEJubR1AHAasm54
            zLBnS6ogu5rvUwrQHMVSpwyr2H7IcRtsbsjcmd0YYAD1FvehmVDgE9+FjvUFzrAV
            xbCij3t7g7a2dwJ0bJSvI/d4CJZ7IAAbqJmSk1r+ncaxFD/vlGhRuC74ehlsAd4p
            fUUhJLb7M8FjogNG1Mvmj2YQOSrmNWA6B9oxNLeT6/NlF5Xl3lsMgGOvtzo2xojS
            /+COkTVBmcXpAyCha/dFzxLK6BFLnACoZJTxUgEv7+I13mhT+woSsI+ApU3X3Lae
            GskCAwEAAaOBvTCBujAOBgNVHQ8BAf8EBAMCA7gwHQYDVR0lBBYwFAYIKwYBBQUH
            AwEGCCsGAQUFBwMCMB0GA1UdDgQWBBSK4VgxEGTJV0tkunX+CA999AXb1zAfBgNV
            HSMEGDAWgBQvj7A7x2bLipulV6opisLoHS2wzjBJBgNVHREEQjBAgh8qLmJsb2Jz
            dG9yZS5zZXJ2aWNlLmNmLmludGVybmFsgh1ibG9ic3RvcmUuc2VydmljZS5jZi5p
            bnRlcm5hbDANBgkqhkiG9w0BAQsFAAOCAgEA5ayV1ekTM3eCdz6HAZ7zfcwIGbut
            PLZrUca2DhOxnER3FiFsjcM+sRcfqeric48ZIIEl9lA8n3EG49mIcNYcfLGZFDf/
            gVYYcJwa8BU/xYcX7518o4H6q91I4I73I5IIbkvM8MelJUi3Gc5wIKRe8Vfguu2t
            dI+wD2tMw+9SLrqjahR2yGhp9n7w/YkRczSPpIA3GlCoRoFxKgP3P7W9Sl+rBy4h
            Qcqg4ukh2OxNk+24fpdjIJrd4mp2Ecr0yu3y3tsbARFmXQWGistna3e/aipQkf0u
            j2BR4f+XpSK1SH4uqAAtDNuNDgIdlyTI9kbmwkQ1D0j2sI5kgNVKYHbm8+KZ0lRb
            NyE7rt+WX7PZknwaO/DaxulD0r6W4PHrXWldccTP+cn4B/l9FEoqi8mDQddhPrQc
            4OSD629f+IG76sbPc+/bt8bsaoy+WFMk042Y+lvyY0N5zoLT9d2wg2pqCb2RRR/x
            1OQ/GiivLN9WOZlBbyNITRFRipg/lkdLOC235sYZw+OnQ6OM3bBFtOWN8Y+3cJAk
            Yvt4AKdTLKkYnQ2X96MqPeqcFraWNjtgN7KXUE/eQ9p3qfHgDTpRlhmn11Yxex/E
            /Od+yobjgs+nEhsCkoRBIUCyE4pcSV0SAMxLXed24Wd8f6uubGzzA2fQQFOy6eIR
            6aySa9PlXHk4GTU=
            -----END CERTIFICATE-----
          port: 4443
          private_key: &blobstore_key |
            -----BEGIN RSA PRIVATE KEY-----
            MIIEogIBAAKCAQEAxM8P5mtJx0Hkj0gm54MmSW/AI5O1v8QB32bBrXuDfse82SHx
            L7gd0f9jQhUQ95ZP0gF/IQm5tHUAcBqybnjMsGdLqiC7mu9TCtAcxVKnDKvYfshx
            G2xuyNyZ3RhgAPUW96GZUOAT34WO9QXOsBXFsKKPe3uDtrZ3AnRslK8j93gIlnsg
            ABuomZKTWv6dxrEUP++UaFG4Lvh6GWwB3il9RSEktvszwWOiA0bUy+aPZhA5KuY1
            YDoH2jE0t5Pr82UXleXeWwyAY6+3OjbGiNL/4I6RNUGZxekDIKFr90XPEsroEUuc
            AKhklPFSAS/v4jXeaFP7ChKwj4ClTdfctp4ayQIDAQABAoIBADXfyKZ2sBePfhWK
            1ruBNzXbFWmnwZTg/vI8mr/2k6Rc4OE/XVqGuAMIOg+Y3LApwWfnaPmOQ/uWG6yU
            YkvDXaTcYeYMV86tvLm1BmstmPTrBbSPAgdTw2/Qk33mckFQ1hyra+CrtkT1tpB0
            KoQhMaCMn2JaCVA22pUdcaux1dKj2dkOw1oWc0HalS/bh7WKXNWVRjD2xABdmAmQ
            OB9RgAcQZl/Fvg+djHDq487Joq/ROJONhauf5ETVCEpkkKtu+EVEnR1fMaNiNvUJ
            IIxy2ciUSNJnSvsSpGumgs4CmZevUCyI17tRJX1vxm1K3pT6TK+6AgjFQOidHvMU
            +F0uN5ECgYEA8gNEX/Sjv4RTbHt2DH5OZ+tmIApE0b+bsRHvLlBOkSlvle4//nve
            USB/P9bs4MMt+cuhGPH8bFziEtC9UGFSSpz7flhvVSOTEpQGZL6+bw+MEiyorSVl
            9thBlHB4707QnDii7HPYvf0tb8uFhuAZb79C0+DuOClI2E7gcjiCWrcCgYEA0C75
            Yl2i/G2xcCDDw8hTzHdwdQU4uSBmMpSkBAVbEwcyMZJGrvHnxtVRiCWzSFRmuP8t
            AZZJta2xk/Q9XRGmhpcgVoG5jSlW4zf3yz/JPxZU12ksdEU4HDtuwvh7XufA4Gzv
            oZ7V6v5uuTYpL02r2TLCs3qMKL9KISCzjokztn8CgYB82FKdbYZLdefTPp1XNJEd
            6sF0Jdf6m+2lGqtYKPVezRFTNuSsUxoMn8cFF8p66DT/d5xTUgH1pLS7IBOJM6tP
            8kuKkfRc500neFUUA5IZmNuZRJB/QZuoC0dJW/wG95GGBXGGqPxWhhS6ZzMqsNBu
            ZSwEQTSipCl/7LC8O4qDYQKBgCNkuRVWIg2UgKQ1jdLNTiHm9IGQn7IppfZXewML
            /g3gHVJ8MfQwQF13iuMAtdhIMSami3pHmMSAgT5MOdqG067yJpdOesNbEeCTdVdi
            ws4s98Ofp+Ukl4OFPzF6mU7rS8lb++mYXXoUQ7LNWHcoV10X2i41WXrb+rhjHOPQ
            w6/1AoGALqW2f5VXS+c5USXF4/MH/JaoaDuP0FrUz70Aa82UsjKAkL1Usau0lRNs
            zYuZ2aDGYYUUxIYSEZ+rch/ycq67NcE3SpMRqDdbccDDDUoOT7mOKfT7EgZ43Tcg
            YeUHcorJM1Eghdv2PEhPCMJktR2uGQ0WimAHs8yEeND+evVCQNc=
            -----END RSA PRIVATE KEY-----
          ca_cert: &blobstore_ca |
            -----BEGIN CERTIFICATE-----
            MIIE7DCCAtSgAwIBAgIBATANBgkqhkiG9w0BAQsFADAWMRQwEgYDVQQDEwtibG9i
            c3RvcmVDQTAeFw0xNjEyMTgxOTEwMTdaFw0yNjEyMTgxOTEwMTlaMBYxFDASBgNV
            BAMTC2Jsb2JzdG9yZUNBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEA
            7TMwuRtLjbn86qYWsFU83+vbnZa4qF19Blpc2DPVQ7W7beY7GorM4TV7Pcg6mq9w
            V/Lbr3ty9bN58Ni/tzj4V0kiTnvJmASt3j1Ig3pdU9goFIDYxqeTkjWcG4jAP/OT
            yhGNbjV8v41FuRYLFSfHaUGvyXykE0/ZUOdOQIv9mwZ+HMVa894H/q9srLM883Qm
            +OTqqS6cbxOsXAGMjSQjIp8X1cdVphnSTfoS5uylz/QaNGKbAkFT4PZhUEXhXQf0
            fxn/NFQvHdCRPSs1f69nZxGbaGc47FUo/e+1qZPZCdoPPh0BK6kD2ttaIKJsYa6L
            srsgfGdrbCfOccPRkeCWKnnhd64QIwXftV8/IYAWL2u0fS3KZwmTox9jW0OiAKJp
            OZnYCpY/9/FcDBu1t3J5GE+w9zga4DzO9SqILi94DiGnKDaIw7sxHHamgVVD5qfd
            UeGBfLY/esDAPWAwy9BCX7Dbe0iYgzXd1lCMeIaIM+iYvMjD5K6CUtgmlVJsZacU
            r0wsBQufWtTS2PPKRP6a964vx4AdBDFnB0y9k7l6UusFaBKynh/KBCX+l68yUZL7
            RZmg/FMW8Q4rv/sWLdwgSkqZ3UXnGwJovu0GvTm1eFzbR0JECSjGh1aoHfyAuYu1
            ELyYA+aUtJnMtdlS2OQY5y2317oeJFyPRrfqTAppgosCAwEAAaNFMEMwDgYDVR0P
            AQH/BAQDAgEGMBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFC+PsDvHZsuK
            m6VXqimKwugdLbDOMA0GCSqGSIb3DQEBCwUAA4ICAQAVxFQA8ceCQdAZ58/FeeDz
            YYkp+mRj07OGkvY/fPqq4mMI3dAdSz2v+DbdiSoyVIDOMTf+zCKo9it1V6I5B8zB
            zFtLr3hPSpywCjEFFY6v7mVS1AH9YA7d109R2r+htjzSMMV/rLypoDA30kWVE1ng
            TXj8Q4QcmUm89cNG+pWrVQA26nr9Bbw+cpD5IyYJwsFueSGqY1zy6dLshV/sWVqJ
            2RHIwXM26LfjjLkAB/RlcW/ci7vEPUvbzUmPgiL0J/KcjlnJ4s+WGmA9fGQyiYDu
            4lIEPwZuPpgj1qvEbVuZrlmeXCLfQ3YbZwDmXQXUS+S7VporCJ2GTzTtVb5TrBdv
            oUL2m4PeEjYtqJ1r8K7VbEeK6qeiZtrfCAHeSpOcTr98QJLmHxYEp/J/bfn93KsC
            fKdofh2eSrKIIYKEXAYIdoNFVQgFlgD6n2uEN6MUgTej77h4eRAzQMB/aERC3PF1
            JD9dD7RdiLw9mZmfZfVolgtpNfyxQlPr3hz8+Njth6N5BdOdU2CTS0CDuGgH7GOn
            85WBYc9qjGQ/YApxyqnBz90rBz2FKOa2K8d4Tcuk5XL72RuU7tFzTA4DPIX4PO+u
            A2G9E6ZWDNXLf5aGVsDtZYcmCRYTnQRsyHFtorTspXKkNOUNJPtfhuLqZr+7PG67
            cXwrcbUgF1Qb/p98nHuzWw==
            -----END CERTIFICATE-----

  - name: router
    templates:
      - name: gorouter
        release: cf
      - name: ssh_proxy
        release: diego
      - name: consul_agent
        release: cf
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: gorouter
    networks:
      - name: private
        default: [dns, gateway]

  - name: tcprouter
    templates:
      - name: ssh_proxy
        release: diego
      - name: consul_agent
        release: cf
      - name: metron_agent
        release: cf
      - name: tcp_router
        release: routing
    instances: 1
    resource_pool: tcprouter
    networks:
      - name: private
        default: [dns, gateway]

  - name: routing-api
    templates:
      - name: consul_agent
        release: cf
      - name: routing-api
        release: routing
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]
    properties:
      consul:
        agent:
          services:
            routing-api: {}

  - name: tcp_emitter
    templates:
      - name: consul_agent
        release: cf
      - name: tcp_emitter
        release: routing
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]

  - name: mysql-proxy
    templates:
      - name: proxy
        release: cf-mysql
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]

  - name: mysql
    templates:
      - name: mysql
        release: cf-mysql
    instances: 1
    resource_pool: common
    persistent_disk_pool: mysql
    networks:
      - name: private
        default: [dns, gateway]

  - name: cloud-controller
    templates:
      - name: cloud_controller_ng
        release: cf
      - name: metron_agent
        release: cf
      - name: consul_agent
        release: cf
      - name: route_registrar
        release: cf
      - name: go-buildpack
        release: cf
      - name: binary-buildpack
        release: cf
      - name: nodejs-buildpack
        release: cf
      - name: ruby-buildpack
        release: cf
      - name: php-buildpack
        release: cf
      - name: python-buildpack
        release: cf
      - name: staticfile-buildpack
        release: cf
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]
    properties:
      route_registrar:
        routes:
          - name: api
            port: 9022
            registration_interval: 20s
            tags:
              component: CloudController
            uris:
              - "api.<%= root_domain %>"
      consul:
        agent:
          services:
            cloud_controller_ng: {}

  - name: clock-global
    templates:
      - name: cloud_controller_clock
        release: cf
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]

  - name: cloud-controller-worker
    templates:
      - name: cloud_controller_worker
        release: cf
      - name: metron_agent
        release: cf
      - name: consul_agent
        release: cf
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]

  - name: collector
    templates:
      - name: collector
        release: cf
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]

  - name: uaa
    templates:
      - name: uaa
        release: cf
      - name: metron_agent
        release: cf
      - name: consul_agent
        release: cf
      - name: route_registrar
        release: cf
      - name: statsd-injector
        release: cf
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]
    properties:
      route_registrar:
        routes:
          - name: uaa
            port: 8080
            registration_interval: 20s
            uris:
              - "uaa.<%= root_domain %>"
              - "*.uaa.<%= root_domain %>"
              - "login.<%= root_domain %>"
              - "*.login.<%= root_domain %>"
      consul:
        agent:
          services:
            uaa: {}

  - name: diego-brain
    templates:
      - name: auctioneer
        release: diego
      - name: cc_uploader
        release: diego
      - name: converger
        release: diego
      - name: file_server
        release: diego
      - name: nsync
        release: diego
      - name: route_emitter
        release: diego
      - name: stager
        release: diego
      - name: tps
        release: diego
      - name: consul_agent
        release: cf
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: common
    persistent_disk_pool: diego-brain
    networks:
      - name: private
        default: [dns, gateway]

  - name: diego-cell
    templates:
      - name: rep
        release: diego
      - name: consul_agent
        release: cf
      - name: garden
        release: garden-linux
      - name: rootfses
        release: diego
      - name: metron_agent
        release: cf
    instances: 1
    resource_pool: cells
    networks:
      - name: private
        default: [dns, gateway]
    properties:
      garden:
        network_mtu: 1432

  - name: doppler
    templates:
      - name: doppler
        release: cf
      - name: metron_agent
        release: cf
      - name: syslog_drain_binder
        release: cf
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]

  - name: loggregator-trafficcontroller
    templates:
      - name: loggregator_trafficcontroller
        release: cf
      - name: metron_agent
        release: cf
      - name: route_registrar
        release: cf
    instances: 1
    resource_pool: common
    networks:
      - name: private
        default: [dns, gateway]
    properties:
      route_registrar:
        routes:
          - name: doppler
            port: 8081
            registration_interval: 20s
            uris:
              - "doppler.<%= root_domain %>"
          - name: loggregator
            port: 8080
            registration_interval: 20s
            uris:
              - "loggregator.<%= root_domain %>"

properties:
  network_name: private
  networks:
    apps: private
    services: private

  hm9000:
    port: 9080

  ssl:
    skip_cert_verify: true
    https_only_mode: true

  syslog_daemon_config: {}

  metron_agent:
    zone: default
    deployment: <%= deployment_name %>
    etcd:
      client_cert: *etcd_client_cert
      client_key: *etcd_client_key

  metron_endpoint:
    shared_secret: "<%= common_password %>"

  nats:
    user: nats
    password: "<%= common_password %>"
    port: 4222
    address: 0.nats.private.<%= deployment_name %>.microbosh
    machines:
      - 0.nats.private.<%= deployment_name %>.microbosh

  consul:
    encrypt_keys:
      - "<%= common_password %>"
    agent:
      servers:
        lan:
          - 0.consul.private.<%= deployment_name %>.microbosh
      domain: cf.internal
    ca_cert: &consul_ca_cert |
      -----BEGIN CERTIFICATE-----
      MIIC+zCCAeOgAwIBAgIBADANBgkqhkiG9w0BAQUFADAfMQswCQYDVQQGEwJVUzEQ
      MA4GA1UECgwHUGl2b3RhbDAeFw0xNTExMTgyMDI3MTZaFw0xOTExMTkxOTQ3MTZa
      MB8xCzAJBgNVBAYTAlVTMRAwDgYDVQQKDAdQaXZvdGFsMIIBIjANBgkqhkiG9w0B
      AQEFAAOCAQ8AMIIBCgKCAQEAwAI/I5GhhpWpJdSUM5rrOWpoKvL9ylINZOxs1kcm
      2g35sipVE/+Vg+8tb3A7sOKLTa/+/yWNaY3o1sv+eIxjsHtIt7Tj1gkFZWpHZ6RX
      jkzyrPCTqaMCrcOjarRRdsI5ExA4CX8qsFFQrYv5Xrv0o0XfctXwAVkc68NxyHov
      v0x0h2ULvp1iff5QyT183LDjOUiiK3gqSrj6BpQy6yp/e/X/aZatQEjvaLuWqmU3
      Zv6WLMA36vPVr4JoZxu9beD4QW+5PBsmGz9yrpaB7jOnFwhU0zvtv/vSZxdrpLmY
      b4ZwXHMR2oY045OdJWI6bwXuOSofPj95aItjKVn5Swuy3QIDAQABo0IwQDAdBgNV
      HQ4EFgQUXMQUYHcIWzZ6aUtbc4Yv/4xGfjswDwYDVR0TAQH/BAUwAwEB/zAOBgNV
      HQ8BAf8EBAMCAQYwDQYJKoZIhvcNAQEFBQADggEBAEhU5Gl+ywoJPRyEvXcrlGdS
      fbvzIQyLS6C6GnXpDTqOLIXtTqrUJkqVH6GXBQcBShtXzfvW5Rua4HDEKj6wPF4j
      5QziIE0UrdJdFMupA3cPE449gITGFG20/O3xXGmeWzIijbFgKOEYyQIkExR3lcqb
      czPN1MMNB6pI+HZVk0sn2QPD3p5kTnJRF0/wvq1rUbQ1ddW1BroCDywTecAgGK1X
      k2OIFEg0Js7aX9/M/jLnNjTdjc5RUE45b0chPQJ9lv2Ub4jqItqtrZhy77a0e5Pb
      ucAbKSizVP/2rml1JzLmL6V4jJtI6RWrUHuCIQDCFBvqN6cHqoQW8x++UuuPe44=
      -----END CERTIFICATE-----
    agent_cert: &consul_agent_cert |
      -----BEGIN CERTIFICATE-----
      MIIDODCCAiCgAwIBAgIUPw2F4qNDFmNRB3e1QfQ2R0yOLf4wDQYJKoZIhvcNAQEF
      BQAwHzELMAkGA1UEBhMCVVMxEDAOBgNVBAoMB1Bpdm90YWwwHhcNMTUxMTE4MjA0
      NTA3WhcNMTcxMTE3MjA0NTA3WjA7MQswCQYDVQQGEwJVUzEQMA4GA1UECgwHUGl2
      b3RhbDEaMBgGA1UEAwwRY29uc3VsX2FnZW50X2NlcnQwggEiMA0GCSqGSIb3DQEB
      AQUAA4IBDwAwggEKAoIBAQDHMhvi2/nxTQuLjX8AQFnzxVa/o0L3RoXUNE48gkQv
      XeJjAdxt1FLLRXGE7lWz0M8nRTjaFo4VGAvG8NegrpKT2FKbM/2TAVsriE/4n1gp
      IjNfo5O2D4+Woj4CnfeWgUh+OkuJEpQenxRBmGOnrapuplh1rNCjheVuOtOb+OeY
      duLmlr3q6if4eV1XU1Q1GUPB9i6WuxC9GZr2Ech3Nm07vNSfSPcw+glo2uLIB+hG
      F784uwz9CJ4bMHx0rkhiVDOFP8gmfG+3PTp0oBmCoGqxPZDE/pnnnjpU9hbJmfbs
      6fpn6qMZJkBqTDiAlE8PQyQffF7/sejnQ4M9sY9xcYDnAgMBAAGjUDBOMA4GA1Ud
      DwEB/wQEAwIHgDAdBgNVHQ4EFgQUlkO9Jqt/pPw5zaMM3fpaT/4/G6YwHQYDVR0l
      BBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMA0GCSqGSIb3DQEBBQUAA4IBAQCmqnZf
      R4daySfzszrSTncpMS3d0d4sG0r0Tre0sYq/lj8IFRfgVbn2dMvkqv9RrroWk+QQ
      Ge1vuS3NPJN1sBLK5VBEnMrApiZMLoQD4v0Lw/yWn0+WPbzTuS7aAc2SEhgIMqIQ
      y9dsVffYC+B3Q7yMVSSOEagJghpw2+T9Xn5DxaOOtgu8EDdEcqWCtLjgnQFPXbxq
      p4IBPKNPYQGHmGUc5/6pt4DAcJj2IO9kumCs5ELYhEpDqSWEwtDfCGiP/xbOnEvQ
      ydBqXP21/SxVZnrB+4WDTeI27KUrhJ72An3VK+AaMmm+AHP0IqxxvDjlKARlCR41
      Emkgj/LIoTLSGqew
      -----END CERTIFICATE-----
    agent_key: &consul_agent_key |
      -----BEGIN RSA PRIVATE KEY-----
      MIIEpAIBAAKCAQEAxzIb4tv58U0Li41/AEBZ88VWv6NC90aF1DROPIJEL13iYwHc
      bdRSy0VxhO5Vs9DPJ0U42haOFRgLxvDXoK6Sk9hSmzP9kwFbK4hP+J9YKSIzX6OT
      tg+PlqI+Ap33loFIfjpLiRKUHp8UQZhjp62qbqZYdazQo4XlbjrTm/jnmHbi5pa9
      6uon+HldV1NUNRlDwfYulrsQvRma9hHIdzZtO7zUn0j3MPoJaNriyAfoRhe/OLsM
      /QieGzB8dK5IYlQzhT/IJnxvtz06dKAZgqBqsT2QxP6Z5546VPYWyZn27On6Z+qj
      GSZAakw4gJRPD0MkH3xe/7Ho50ODPbGPcXGA5wIDAQABAoIBAQCpjhywkUCCxmsi
      YdIN+7jVyE9cFnNFGpGGHPPPi67QhuDSF95y2n2TK0xCs8Ddq8r5CXIoKXTNvccg
      kxdoXdDE6ij+lVWuEURynLg90Bzx/nuuWAW+viYiOX4BKkd6pBd54tMzHU5Zdl1+
      rGF/dFMTlqLLn8uEtc+icY54QHmai297YVuo3nXi+ALoUtm0pnahKuDZ2L6pRKKh
      U2xs1W1m32JFW1otFzwdksDw0NwIFNlgJGAg9e/ZbWJun8dMUHkyHBfodm9Edg30
      iPyixcxQELzwvkN4tdZRpX+7t96O0q7rUxgdn2bSdcR6HH+vhZQcsjjFzrczwcRC
      zs405j/5AoGBAOZFbdl0u4HLuGXxCyO7HiglQt4XBNeF3FY6oSXkLQjrXoqzLYDo
      N89K5itlyNDhnlCLnRCwQ+ylF3E3XH7KVS8fhL/1Pxl+lClutHH6Y5JI7w6BamI2
      PrXTSj9COrEU7pFLaW/jVLCxVOV9OSjvBUjexD1ilXOPgKsmG0vMf8n9AoGBAN1z
      z77TaapW9txZo+kXcINEQN9piOiuukLF2QJt4BD/l8eZYK5IRmQAi5oTVFuTqgAu
      Yxvvaun5SKpDhLCF+dyAiwahJ9x+JEaiXt7v1Vt6/jgGVlL3N40sSvl8m6sCuS2V
      CmDfX1HTepp6mRQ83L/So+e8jGmoLNUpZGUeQOmzAoGAYB5DCC4txrQeuI6xM6z7
      nY5QJxw8rSn3GxdGBOcF1V9KC2NXbyN/iEufYCYQeQB0cPKWEU1CTRlse5m8RkB2
      5kClzOq1+BJaDiFjuN/niDxhbRCgM3apHoSfzV/718cA/i0YSdf+lfKvmUt3/Joo
      /o3eJDFuaNpRvx8c7bri7JECgYBCUS5DbThVhJmEv2twoE5XYRc0UHxpgfnRiUJF
      kfXp4UDoyyvCxW4fAHLN/z/h9MSSLVIMyZPw4XA7XODdpCGBQRVhNN2lEDl41aMn
      jBcOwDRlPrCXQ+Vk54DEWeacPcKKvflPrVT0QiqTHGe/QcKxxzjCaxp5gZ17cFva
      VEcINQKBgQDTSoqXB8+h+zRUho7pRhIEWWLM0bi+xVdW+KuCobW5kqvgdzxsK5Ba
      GAvb1l59I2gfaGAIWmhMkkh6Ec1MTb9EZySXflCRD1nrqUsSbuna5Qkyg0zSdwAw
      H30+qi9NvXubdjG6/6x9nUDB1pOK0aMVN9ADQDYVWZI7CpijlXMwHg==
      -----END RSA PRIVATE KEY-----
    server_cert: &consul_server_cert |
      -----BEGIN CERTIFICATE-----
      MIIDYTCCAkmgAwIBAgIVANZWS6JLY+HCP3c1AL52RxetpllbMA0GCSqGSIb3DQEB
      BQUAMB8xCzAJBgNVBAYTAlVTMRAwDgYDVQQKDAdQaXZvdGFsMB4XDTE1MTExODIw
      NDUwN1oXDTE3MTExNzIwNDUwN1owQDELMAkGA1UEBhMCVVMxEDAOBgNVBAoMB1Bp
      dm90YWwxHzAdBgNVBAMMFnNlcnZlci5kYzEuY2YuaW50ZXJuYWwwggEiMA0GCSqG
      SIb3DQEBAQUAA4IBDwAwggEKAoIBAQDLEmOSImQmDQ/zJI7VF1AcOXz3ypEwG19m
      idv38yCXU4rt1Hp2l1utef7yT0f0PvE3q6AORv3xS6LqStnGgyNSFvL7GZz6Onji
      Yc3H5Bn7CyshvMQHZYAdyeddHf9ydyPUUlDaurzvgYPeFi7WrnvOplNenG5XoPWc
      vmm0SU/CzrpFkiAHDXpFZ0OWWFB+ogeemngWLefLkFMPkCmHt2dbJEdSj1jdfRhn
      JDZILdROyCSKVSEzQJHsrtnNh4h/Zxm7BA1iANSk9XVSH+3MfhnoaKIMYGhqmPIX
      Aa6Uti5wvwpl11343ZAZrwMnovdUICazxubEdBxtXxPUuW7JMhgxAgMBAAGjczBx
      MA4GA1UdDwEB/wQEAwIHgDAdBgNVHQ4EFgQUPXokXsQs7Qv/tv9g46zOYabebrEw
      HQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMCEGA1UdEQQaMBiCFnNlcnZl
      ci5kYzEuY2YuaW50ZXJuYWwwDQYJKoZIhvcNAQEFBQADggEBACkF/0KVj/rMdMFw
      jXbY0kxIRUqln4P+De4dSpnDmxFpnm6vDCJpT6d1K7KjL2GgtDW50M8qEGA1Zbso
      9mCOXV5VuUWsyVISGoCGkUvNQzYRl/PGgRtD90bL/dKjl+JIUKFHDmZIplaYJXzo
      DWqJKPSDKqPFa2T+pqwrYrBQAaC9eITCE9d9qFE9NY49wDHnscXwSQm2XOQ+co81
      Sm+tt4lLCgnprZ90q9mixYCRaVsZjqazHpEP6e4hqSzqAoRmT0ex4hkdjZTufCZH
      DC23NLSnpdIJuSYfNA16xNJY2nOqL2t33ow3yIVIzjbjnCEY4NtkTynQxUuUf4O4
      lG3loH0=
      -----END CERTIFICATE-----
    server_key: &consul_server_key |
      -----BEGIN RSA PRIVATE KEY-----
      MIIEpgIBAAKCAQEAyxJjkiJkJg0P8ySO1RdQHDl898qRMBtfZonb9/Mgl1OK7dR6
      dpdbrXn+8k9H9D7xN6ugDkb98Uui6krZxoMjUhby+xmc+jp44mHNx+QZ+wsrIbzE
      B2WAHcnnXR3/cncj1FJQ2rq874GD3hYu1q57zqZTXpxuV6D1nL5ptElPws66RZIg
      Bw16RWdDllhQfqIHnpp4Fi3ny5BTD5Aph7dnWyRHUo9Y3X0YZyQ2SC3UTsgkilUh
      M0CR7K7ZzYeIf2cZuwQNYgDUpPV1Uh/tzH4Z6GiiDGBoapjyFwGulLYucL8KZddd
      +N2QGa8DJ6L3VCAms8bmxHQcbV8T1LluyTIYMQIDAQABAoIBAQCoio2bhvGp5yN6
      wLfPQjcaBdijbDuOOtm2J+sqYl6FWjAvbi9p5/uOAnfHsmdc3zSi6M3Bq8guEYGY
      hSE0MjkJc8SdBUgVIpyb/2KkabvqcP2OVbY5EVQA5UciMLiHzzwsh1lWALC487x3
      gd/EDDLzc3Y0Sw8FqbDQM/VVTZdmbWKykZeiIJ1MI4pb2pW0nUtwC8kes2e08EtU
      Tw4zq1Y779abeiSqxXTtU22EEHdH4xDv2/jLVrIrhNBMhznujPXl3IN4wsd0ec08
      xma00IfcY0aoITTqfRSQFpDRn+XPyNSvJksAp4h0/8p/CQ9RXyDlMIyYW5P1UdKt
      s3uOtX9FAoGBAP74iJEAjHlD7P+judlq0Vr54upsGokZozYZiJ3JjUmWNZXN8ryh
      LF9pLvzpQZiIUeQyqwQm6VcMbQ4aA7aLB0IbL3MsXf4uX+QpA0OxsKc2FpxM7pB5
      pp6KP5JU2Jtim7SblfgFAkyqQNKQM4nfPA4OoW8X7WDMSkO42nwLVCDPAoGBAMvk
      Oilhddj5OlbtWRbA5DrHGzP8EdMCcd9a4NeOZVVyG3a0SibmB9uy3T2XFxDMc58J
      jln9te55fa1dxjxlxxiHE7445rWAotc2xZs2XNP4e+ySJ6GjoOAqL1ku+Hca2hhi
      dWxNRvm/fJNBJNZlJ7VbBF9Z6s40ym59OBjn2nb/AoGBAJta2/teFjmdRb7OB+ON
      zlpcgALOM6ztziCclj1uHYSE3cmVXx3IJr1L3bGEfs9t4Ffm94TkILFFhP1epHyJ
      YbbJ0bOfiPXjU9I1myOYFUcNEeHSjlnBheB75BhJUmH7R1xYoJwqkSgdZLnn2z9a
      ocD+8SY7sguU7nstGxMR5ATJAoGBAML80Y6PcRd+SYemVuPGtr1rep19fEJS/TnA
      fHRI7qoHhTJBewS2Sl+WL7TeEKX1EMHQbr2rP9j/gOxSWOmb4AqZ64yoeCKuEY1G
      CTbFh4MECOeWYqZXiNu4HC3rGJ03JcnaJzfas3zW3rkovKT4ekAa+hSCNmbb35hI
      0mQnHytbAoGBALuZw83Lkiy0vpV4szu/plQngRpriYsqekjWJCt1MHu4eo7LVUw2
      /REEaJlcHsjul2bSNyxjAPeWTvHKwtNfIYZHJm93V4p6LuP9Imyy7UTvZEWhePOA
      npb4o+L1k20W2l9jTWr1kLsnXz7M/HKMdySWPJXn2y5No1VGfL+9reTm
      -----END RSA PRIVATE KEY-----

  etcd:
    machines:
      - 0.etcd.private.<%= deployment_name %>.microbosh
    advertise_urls_dns_suffix: &etcd_suffix etcd.service.cf.internal

  etcd_metrics_server:
    nats:
      username: nats
      password: "<%= common_password %>"
      port: 4222
      machines:
        - 0.nats.private.<%= deployment_name %>.microbosh
    etcd:
      require_ssl: false
      ca_cert: *etcd_ca_cert
      client_cert: *etcd_client_cert
      client_key: *etcd_client_key
      dns_suffix: *etcd_suffix

  blobstore:
    port: 8080
    secure_link:
      secret: "<%= common_password %>"
    admin_users:
      - username: admin
        password: "<%= common_password %>"

  external_host: mysql.internal.<%= root_domain %>
  proxy:
    api_username: admin
    api_password: "<%= common_password %>"
    proxy_ips:
      - 0.mysql-proxy.private.<%= deployment_name %>.microbosh
  cluster_ips:
    - 0.mysql.private.<%= deployment_name %>.microbosh
  admin_password: "<%= common_password %>"
  database_startup_timeout: 1200
  innodb_buffer_pool_size: 2147483648
  max_connections: 1500
  seeded_databases:
    - name: cc_db
      username: cc_admin
      password: "<%= common_password %>"
    - name: uaa_db
      username: uaa_admin
      password: "<%= common_password %>"
    - name: console_db
      username: console_admin
      password: "<%= common_password %>"
    - name: app_usage_service_db
      username: appusage_admin
      password: "<%= common_password %>"
    - name: notifications_db
      username: notifications_admin
      password: "<%= common_password %>"
    - name: autoscale_db
      username: autoscale_admin
      password: "<%= common_password %>"
    - name: routing-api
      username: routing_admin
      password: "<%= common_password %>"

  request_timeout_in_seconds: 900
  domain: <%= root_domain %>
  system_domain: <%= root_domain %>
  system_domain_organization: system
  app_domains:
    - <%= root_domain %>
  support_address: https://support.pivotal.io

  ccdb:
    address: 0.mysql-proxy.private.<%= deployment_name %>.microbosh
    port: 3306
    db_scheme: mysql
    roles:
      - tag: admin
        name: cc_admin
        password: "<%= common_password %>"
    databases:
      - tag: cc
        name: cc_db
        citext: true

  cc:
    srv_api_uri: https://api.<%= root_domain %>
    allow_app_ssh_access: true
    default_to_diego_backend: true
    buildpacks:
      blobstore_type: webdav
      webdav_config:
        username: admin
        password: "<%= common_password %>"
        private_endpoint: https://blobstore.service.cf.internal:4443
        public_endpoint: https://blobstore.<%= root_domain %>
        secret: "<%= common_password %>"
    droplets:
      blobstore_type: webdav
      webdav_config:
        username: admin
        password: "<%= common_password %>"
        private_endpoint: https://blobstore.service.cf.internal:4443
        public_endpoint: https://blobstore.<%= root_domain %>
        secret: "<%= common_password %>"
    packages:
      blobstore_type: webdav
      webdav_config:
        username: admin
        password: "<%= common_password %>"
        private_endpoint: https://blobstore.service.cf.internal:4443
        public_endpoint: https://blobstore.<%= root_domain %>
        secret: "<%= common_password %>"
    resource_pool:
      blobstore_type: webdav
      webdav_config:
        username: admin
        password: "<%= common_password %>"
        private_endpoint: https://blobstore.service.cf.internal:4443
        public_endpoint: https://blobstore.<%= root_domain %>
        secret: "<%= common_password %>"
    service_name: cloud-controller-ng
    external_protocol: https
    bootstrap_admin_email: admin
    bulk_api_password: "<%= common_password %>"
    client_max_body_size: 1024M
    db_encryption_key: "<%= common_password %>"
    default_running_security_groups:
      - all_open
    default_staging_security_groups:
      - all_open
    disable_custom_buildpacks: false
    external_host: api
    install_buildpacks:
      - name: staticfile_buildpack
        package: staticfile-buildpack
      - name: java_buildpack_offline
        package: buildpack_java_offline
      - name: ruby_buildpack
        package: ruby-buildpack
      - name: nodejs_buildpack
        package: nodejs-buildpack
      - name: go_buildpack
        package: go-buildpack
      - name: python_buildpack
        package: python-buildpack
      - name: php_buildpack
        package: php-buildpack
      - name: binary_buildpack
        package: binary-buildpack
    internal_api_user: internal_api_user
    internal_api_password: "<%= common_password %>"
    logging_level: debug
    maximum_health_check_timeout: 600
    quota_definitions:
      default:
        memory_limit: 10240
        total_services: 100
        non_basic_services_allowed: true
        total_routes: 1000
        trial_db_allowed: true
      runaway:
        memory_limit: 102400
        total_services: -1
        total_routes: 1000
        non_basic_services_allowed: true
    security_group_definitions:
      - name: all_open
        rules:
          - protocol: all
            destination: 0.0.0.0-255.255.255.255
    stacks:
      - name: cflinuxfs2
        description: Cloud Foundry Linux-based filesystem
      - name: windows2012R2
        description: Microsoft Windows / .Net 64 bit
    staging_upload_user: staging_upload_user
    staging_upload_password: "<%= common_password %>"
    tasks_disabled: true
    uaa_resource_id: "cloud_controller,cloud_controller_service_permissions"
    min_cli_version: 6.7.0
    min_recommended_cli_version: 6.11.2

  uaadb:
    address: 0.mysql-proxy.private.<%= deployment_name %>.microbosh
    port: 3306
    db_scheme: mysql
    roles:
      - tag: admin
        name: uaa_admin
        password: "<%= common_password %>"
    databases:
      - tag: uaa
        name: uaa_db

  uaa:
    require_https: true
    ssl:
      port: 8443
    tls_port: 8443
    sslCertificate: &uaa_ssl_cert |
      -----BEGIN CERTIFICATE-----
      MIICWjCCAcOgAwIBAgIJAKhQVgCvGFrrMA0GCSqGSIb3DQEBCwUAMEUxCzAJBgNV
      BAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJbnRlcm5ldCBX
      aWRnaXRzIFB0eSBMdGQwIBcNMTcwMTE3MjIzMzU1WhgPMjExNjEyMjQyMjMzNTVa
      MEUxCzAJBgNVBAYTAkFVMRMwEQYDVQQIDApTb21lLVN0YXRlMSEwHwYDVQQKDBhJ
      bnRlcm5ldCBXaWRnaXRzIFB0eSBMdGQwgZ8wDQYJKoZIhvcNAQEBBQADgY0AMIGJ
      AoGBAKqAH76fk7TWKbsUbYNKvgZKE1S5lPuvzbXY6cM6LuD5WUk2QUwWDOTNYGY6
      YhMn4J7ZNkeiluuE66q491XuinQqOqqWJ92lhQEMunHkb+4N9PXSa/YjJh2FO7qw
      reAAgrbZC6pnw7dJ4myEJyqfb6yisVHhR7hREKPjcLaTDyAXAgMBAAGjUDBOMB0G
      A1UdDgQWBBRwQhAXxWTRf/SAGJSPIHU+EEyCRjAfBgNVHSMEGDAWgBRwQhAXxWTR
      f/SAGJSPIHU+EEyCRjAMBgNVHRMEBTADAQH/MA0GCSqGSIb3DQEBCwUAA4GBAKHe
      I/zFtKfp883jetl+8KrWU4vT1jmGsaTO4lrgJFVNjbxzk6OG08hy6Yrnqp2ansA4
      3Y51DLf4ugGicy5emFLHbYHAsFG4bQBeCv6vG3yvXPWwiFvaIEyJKoQBApbWDkEr
      PpC2co7gRtytyV33UnuCxTYPWQDEv/F5/UK1mBsB
      -----END CERTIFICATE-----
    sslPrivateKey: &uaa_key |
      -----BEGIN RSA PRIVATE KEY-----
      MIICXQIBAAKBgQCqgB++n5O01im7FG2DSr4GShNUuZT7r8212OnDOi7g+VlJNkFM
      FgzkzWBmOmITJ+Ce2TZHopbrhOuquPdV7op0KjqqlifdpYUBDLpx5G/uDfT10mv2
      IyYdhTu6sK3gAIK22QuqZ8O3SeJshCcqn2+sorFR4Ue4URCj43C2kw8gFwIDAQAB
      AoGAMl3nAsjhOWqKqVk/gKlzuSfozf6EpFUqz61kYOevMYZ3ecktQOzColSJRam5
      jy8Yi9Re1IqTSr/ZXnWFmzz8aRkgUd8dwFy7BC8W4N0YntXi6YmASZOHMf+H9iaD
      98rOxtCfHwsOQAk7s/MQETaOrKsthVcOnJbqCg+9IqfXQgECQQDSbGIbnr56P36R
      tg4DZbp61gvtuSMMMq5b5rPt2R9kAzF9xXs9s/9Z7OZ0Wwx0lkLOXRGWn0aBO1aK
      nvJ3p8kvAkEAz24VtZGXafUZ1MnJKyzz6WsWKLG53MJG38kadQ0NbXFTAsJhYinO
      efWPmUPPYCqdHFb+pPI7//vLhmxkaVeNmQJBAI9We0I7UZ9uzyYs8MDJtEzmr/uA
      yOoPQAykS97yr1pufnEhbAEtMv2rzZRnTUXB8cInTcrftqRjqmEFQz/VEMsCQBLT
      buz3tcJMGHgTiEp+3fRFX9F5r+C1UTFmUxxkft979Yi+k5ARM0gmXU4PtXaI55F2
      482cno1xENu2Yrac16ECQQCrqnJIa37H1H5ZiuZGtlAs+vTbn/ComJKjScd7uBtO
      qWdAsFJ8IZdRkZYJc/2ZqNVyw6nw8CwCbTiz9P4iB2pK
      -----END RSA PRIVATE KEY-----
    ldap:
      profile_type: search-and-bind
      url:
      userDN:
      userPassword:
      searchBase:
      searchFilter: cn={0}
      sslCertificate: null
      sslCertificateAlias:
      mailAttributeName: mail
      enabled: false
      groups:
        profile_type: no-groups
    zones:
      internal:
        hostnames:
        - uaa.service.cf.internal
    login:
      addnew: false
    catalina_opts: "-Xmx768m -XX:MaxPermSize=256m"
    url: https://uaa.<%= root_domain %>
    jwt:
      signing_key: |
        -----BEGIN RSA PRIVATE KEY-----
        MIIEowIBAAKCAQEAwy9j/rrDXu1RrBm8iEeHiyk/wC9HYEqEsgdvgZSaUBGoz8YH
        mkgSOdl60vKSq3Q8FJp/HlFEkNtoOCXuauQvyR8qSlE6B/gHtGt3Hd6KdPUSKifW
        RchI9rwSXoAnFMhPDaOtL8wgYAE3GPUj/5bxezLMbqiwii3XbD3a1XS/ID6XQk+6
        cqLqf2AXiTHNbqyqvmPH1v/wrmD+T5UUIB9Ah3etiWMvW2QOG36B46a4ra7Bg+yD
        3gI5aJOG9wqo5ajILESCG00sL8m7Eat1j9/MxznzUdp5ZtpoC89m34QlKKpIny+B
        hVRmnSXmrTneAN0+JkHi/PWa9hWB1dR9XVIk0QIDAQABAoIBAEUQwdtjDrrKUvoI
        6VN3rBir8ej5UdJay/WK+APsJ2ZpuUg8FHidRAXAVNvMBeYxbQkFWjHKI+72FDy5
        /1FHiTkrk/VUJKqpM2C+HhotouSby1+rVQDATEEyb3WM90c9UevLnP6qxlHyXCKy
        q5hHOw+S/A+0FTPv4KhmgsbBVtf7byyI72FIpaEeehbss/U3oJFCK/wag2AXSpMB
        VFFj8xzUnPYIpqcO4c3Zg9j4ugWGyDyHFBO4BMGrC0vKlxPPCWUMG8K8Dz5mgJ3l
        zmwwUvqtR5/KLSXwnL2b5d6Hy5KpMc1RxNpxExjgATlhVQCw1erQ5XEgZZnjjDE/
        i6pxSJkCgYEA8gVcD0fz4xxjLaPPFyZskHoACe9SPhpWsJt0lmK73D9ugMUTyIXP
        BfQGuqcdq3XrNz3ZMekqCq9dikdr9FpYoV/ifI/xxrVUs4MbbACYpIijCzioF1wv
        q4ka6QjS6Tt9HHFFzHBvfc2y7Wgflw1oLIBL5S7duSiYEGIGfp134FcCgYEAznV+
        Xdhw6XkQtGgPM5QYNYvfH+4vqELOYAwtTd2esGCXE1jsubK0CufpVMxezfXOeLqc
        /rCN/lpdKmxkaJFW2aIWBMMmvU0tTrB4dDiLobs4OxRiym1tN9xQhqSqiwz7quHQ
        KR+w/GT/IHdNj61hyad5r80wmhawiCmOwJOYyxcCgYABkNdPof+J8J0TpoOoeq8p
        ICDv74RwsmrtKZRPhMQCYMauPpgqK/Ny7mk8u+gNO+4RpWzKTd/fwdKxGlUwd4Ur
        RhuJAsVlq7aokqiSwk46gkfLwsoTnJ0SVwi9iTkUGTZuAK2a7P9LqREHSC0sJQIP
        h6T2Dp+QmxqgwIGaQBqOcQKBgBofO5HcJM0liDuLPwEjp7x+qgh8NoNvkHUOlVzY
        wY9HaVYFVk5YkfcfSKJ2CTi99RXJZrvC0vRvsoH/nOSuHvMCUw7fMjOZZDYkldj+
        nowkCAVRmv5JwhvjQD0I8JsPVXhVgeTyIY6NqMoOzj1zjn/ZNMhNiey1GjjgKTOs
        eRSZAoGBALJD6QBxaTWgsW2oP1VOeMTOtfrKjMmk3yfgYlPt8LD6K/k7Ov1SC7Ef
        slTMpD+7xnTo4wmKCRAagwjq02ECJGj2//G/O44FgxOWsa3CO26WkVq5DqJj4gw2
        1EBokvb5V9J8s7SH4iaZ2itgPrz+cRjbBKye71AQZALCpvn2gMQA
        -----END RSA PRIVATE KEY-----
      verification_key: |
        -----BEGIN PUBLIC KEY-----
        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwy9j/rrDXu1RrBm8iEeH
        iyk/wC9HYEqEsgdvgZSaUBGoz8YHmkgSOdl60vKSq3Q8FJp/HlFEkNtoOCXuauQv
        yR8qSlE6B/gHtGt3Hd6KdPUSKifWRchI9rwSXoAnFMhPDaOtL8wgYAE3GPUj/5bx
        ezLMbqiwii3XbD3a1XS/ID6XQk+6cqLqf2AXiTHNbqyqvmPH1v/wrmD+T5UUIB9A
        h3etiWMvW2QOG36B46a4ra7Bg+yD3gI5aJOG9wqo5ajILESCG00sL8m7Eat1j9/M
        xznzUdp5ZtpoC89m34QlKKpIny+BhVRmnSXmrTneAN0+JkHi/PWa9hWB1dR9XVIk
        0QIDAQAB
        -----END PUBLIC KEY-----
    cc:
      client_secret: "<%= common_password %>"
    admin:
      client_secret: "<%= common_password %>"
    proxy:
      servers:
        - 0.router.public.<%= deployment_name %>.microbosh
    clients:
      opentsdb-firehose-nozzle:
        access-token-validity: 1209600
        authorized-grant-types: "authorization_code,client_credentials,refresh_token"
        override: true
        secret: "<%= common_password %>"
        scope: "openid,oauth.approvals,doppler.firehose"
        authorities: "oauth.login,doppler.firehose"
      identity:
        id: identity
        secret: "<%= common_password %>"
        scope: "cloud_controller.admin,cloud_controller.read,cloud_controller.write,openid,zones.*.*,zones.*.*.*,zones.read,zones.write"
        resource_ids: none
        override: true
        authorized-grant-types: "authorization_code,client_credentials,refresh_token"
        autoapprove: true
        authorities: "scim.zones,zones.read,uaa.resource,zones.write,cloud_controller.admin"
        redirect-uri: "https://p-identity.<%= root_domain %>/dashboard/,https://p-identity.<%= root_domain %>/dashboard/*"
      login:
        id: login
        secret: "<%= common_password %>"
        override: true
        autoapprove: true
        authorities: "oauth.login,scim.write,clients.read,notifications.write,critical_notifications.write,emails.write,scim.userids,password.write"
        authorized-grant-types: "authorization_code,client_credentials,refresh_token"
        scope: "openid,oauth.approvals"
      portal:
        id: portal
        secret: "<%= common_password %>"
        override: true
        autoapprove: true
        authorities: "scim.write,scim.read,cloud_controller.read,cloud_controller.write,password.write,uaa.admin,uaa.resource,cloud_controller.admin,emails.write,notifications.write"
        authorized-grant-types: "authorization_code,client_credentials,password,implicit"
        scope: "openid,cloud_controller.read,cloud_controller.write,password.write,console.admin,console.support,cloud_controller.admin"
        access-token-validity: 1209600
        refresh-token-validity: 1209600
      cf:
        id: cf
        override: true
        autoapprove: true
        authorities: uaa.none
        authorized-grant-types: "implicit,password,refresh_token"
        scope: "cloud_controller.read,cloud_controller.write,openid,password.write,cloud_controller.admin,scim.read,scim.write,doppler.firehose,uaa.user,routing.router_groups.read,routing.router_groups.write"
        access-token-validity: 7200
        refresh-token-validity: 1209600
      autoscaling_service:
        id: autoscaling_service
        secret: "<%= common_password %>"
        override: true
        autoapprove: true
        authorities: "cloud_controller.write,cloud_controller.read,cloud_controller.admin,notifications.write,critical_notifications.write,emails.write"
        authorized-grant-types: "client_credentials,authorization_code,refresh_token"
        scope: "openid,cloud_controller.permissions,cloud_controller.read,cloud_controller.write"
        access-token-validity: 3600
      system_passwords:
        id: system_passwords
        secret: "<%= common_password %>"
        override: true
        autoapprove: true
        authorities: "uaa.admin,scim.read,scim.write,password.write"
        authorized-grant-types: "client_credentials"
      cc-service-dashboards:
        id: cc-service-dashboards
        secret: "<%= common_password %>"
        override: true
        authorities: "clients.read,clients.write,clients.admin"
        authorized-grant-types: "client_credentials"
        scope: "cloud_controller.write,openid,cloud_controller.read,cloud_controller_service_permissions.read"
      doppler:
        id: doppler
        secret: "<%= common_password %>"
        authorities: "uaa.resource"
      gorouter:
        id: gorouter
        secret: "<%= common_password %>"
        authorities: "clients.read,clients.write,clients.admin,routing.routes.write,routing.routes.read"
        authorized-grant-types: "client_credentials,refresh_token"
        scope: "openid,cloud_controller_service_permissions.read"
      notifications:
        id: notifications
        secret: "<%= common_password %>"
        authorities: "cloud_controller.admin,scim.read,notifications.write,critical_notifications.write,emails.write"
        authorized-grant-types: "client_credentials"
      notifications_template:
        id: notifications_template
        secret: "<%= common_password %>"
        scope: "openid,clients.read,clients.write,clients.secret"
        authorities: "clients.read,clients.write,clients.secret,notification_templates.write,notification_templates.read,notifications.manage"
        authorized-grant-types: "client_credentials"
      notifications_ui_client:
        id: notifications_ui_client
        secret: "<%= common_password %>"
        scope: "notification_preferences.read,notification_preferences.write,openid"
        authorized-grant-types: "authorization_code,client_credentials,refresh_token"
        authorities: "notification_preferences.admin"
        autoapprove: true
        override: true
        redirect-uri: "https://notifications-ui.<%= root_domain %>/sessions/create"
      cloud_controller_username_lookup:
        id: cloud_controller_username_lookup
        secret: "<%= common_password %>"
        authorized-grant-types: "client_credentials"
        authorities: "scim.userids"
      cc_routing:
        authorities: "routing.router_groups.read"
        authorized-grant-types: "client_credentials"
        secret: "<%= common_password %>"
      ssh-proxy:
        authorized-grant-types: authorization_code
        autoapprove: true
        override: true
        redirect-uri: "/login"
        scope: "openid,cloud_controller.read,cloud_controller.write"
        secret: "<%= common_password %>"
      tcp_emitter:
        authorities: routing.routes.read, routing.routes.write, routing.router_groups.read
        secret: "<%= common_password %>"
        authorized-grant-types: "client_credentials,refresh_token"
      tcp_router:
        authorities: routing.routes.read
        secret: "<%= common_password %>"
        authorized-grant-types: "client_credentials,refresh_token"
      apps_metrics:
        id: apps_metrics
        secret: "<%= common_password %>"
        override: true
        authorized-grant-types: "authorization_code,refresh_token"
        redirect-uri: "https://apm.<%= root_domain %>,https://apm.<%= root_domain %>/,https://apm.<%= root_domain %>/*"
        scope: "cloud_controller.admin,apm.read"
        access-token-validity: 3600
        refresh-token-validity: 2592000
      apps_metrics_processing:
        id: apps_metrics_processing
        secret: "<%= common_password %>"
        override: true
        authorized-grant-types: "authorization_code,client_credentials,refresh_token"
        authorities: "oauth.login,doppler.firehose,cloud_controller.admin"
        scope: "openid,oauth.approvals,doppler.firehose,cloud_controller.admin"
        access-token-validity: 1209600
    scim:
      user:
        override: true
      userids_enabled: true
      users:
      - name: admin
        password: <%= common_password %>
        groups:
          - scim.write
          - scim.read
          - openid
          - cloud_controller.admin
          - dashboard.user
          - console.admin
          - console.support
          - doppler.firehose
          - notification_preferences.read
          - notification_preferences.write
          - notifications.manage
          - notification_templates.read
          - notification_templates.write
          - emails.write
          - notifications.write
          - zones.read
          - zones.write
          - routing.router_groups.read
          - routing.router_groups.write
          - clients.write
      - name: push_apps_manager
        password: <%= common_password %>
        groups:
          - cloud_controller.admin
      - name: smoke_tests
        password: <%= common_password %>
        groups:
          - cloud_controller.admin
      - name: system_services
        password: <%= common_password %>
        groups:
          - cloud_controller.admin
      - name: system_verification
        password: <%= common_password %>
        groups:
          - scim.write
          - scim.read
          - openid
          - cloud_controller.admin
          - dashboard.user
          - console.admin
          - console.support
  login:
    url: https://login.<%= root_domain %>
    self_service_links_enabled: true
    asset_base_url: "/resources/pivotal"
    protocol: https
    tiles:
      - name: Pivotal Apps Manager
        login-link: "https://apps.<%= root_domain %>"
        image: "/resources/pivotal/images/dev-console-logo-gray.png"
        image-hover: "/resources/pivotal/images/dev-console-logo-teal.png"
    brand: pivotal
    links:
      home: https://apps.<%= root_domain %>
      passwd: https://login.<%= root_domain %>/forgot_password
      signup: https://apps.<%= root_domain %>/register
    uaa_base: https://uaa.<%= root_domain %>
    notifications:
      url: https://notifications.<%= root_domain %>
    saml:
      entityid: http://login.<%= root_domain %>
      serviceProviderKeyPassword: ""
      serviceProviderKey: |
        -----BEGIN RSA PRIVATE KEY-----
        MIIEpQIBAAKCAQEA5rk+K3j9hS84jUC2/U5rpRSCCBQKsUf/V9syi6Zz67xu3CRn
        gT3Bwi9Z8Y1iypKf07ghve/1snBbx/RclH8boMbpXww4BzGea1xzNG1lpmMfIcpT
        OumI+7UvEC++dxFjH3PW7e8a6Inahb+dlXGiKym9oKSifbJmFHgVGoXewkypssx6
        UP0NA0OTDLpGhQUkHfvpqe7jGdxwFwatoSUmN/xT0U/UO6kuPQoHMyVREXpYkdFm
        RTGXkoQfqrdCHdWwmFv4VxSkAnQYxq9YD2D3N7oA/ob7eDaF7Qx35z+5syH92eyP
        4Sozx/LJgFXz4+r2R0GRlHWS2sLCuE++mgEDZwIDAQABAoIBAEC6Y3iqvuUodEMc
        jrnN0GFFuZ0ukjleK4KoWivXjNnryWY1SFx3yO4DfsZHlhmivPgWxlCVC2b+IqGc
        KoT2i/e1Fi+2K9nIz9rq2t8web4OPOOr8WGrtuR21jdCTbr1w8tFIl0qIXBvjEDN
        mxYcBRT65to0lemRrRW9Ap6oQ/BaLQ9y9s4e4fLSTQFEbpD0q6/7/0g9WX0KXseS
        rVnkwET0PXn2fobHHk6GKkQkh3UrCPL8tIAsJ2mYYNPUy1zvrrDRMbJnYZIO0Ig0
        NfNkH4UQvyAqzP6qPFuIltBO+XIDrSIBwuNb06j2ItcPy2HTPOP9L1D/YVuMIH2Z
        oDU3vTECgYEA/6WeK99EeyOPupA92Gw72bJdNyvT9XIZHb0DuTKClnQUWm0kuY9N
        dzUEoB78f/Y+FqQZ1GemVSb2sHf5BmsqQNwxf09KkN7kqPn8miQ+TqMMQFat+iFq
        In0lzrbqj7U59lI4pSdIwJ/gbhYyjl9JmRKtQn6VQ0E9V/X7SUs25WMCgYEA5wrQ
        QzwJKKvDjc5PJxhEj8dhjgmHF0gU6q1PcDuzb0yoMquY1+75UMDWPwezXNIEnfap
        Lgxt/2xOqSU+EDtpv/vhz+RE4bChFWvHg4c/Ba9976YtiIuGJLNOW/vQzzIo+yuZ
        cxQfrJ9RC0gEOrG7+eKKSygNADjXtIfD9h4V2y0CgYEArWsCzg4JnWK1OEBqw6pA
        O2AEXc2sXh7FLOgwY2wBK+CYgfLx67JrQUdE2P3MGV3IJoGxR+X77l2dEH6B/jmq
        Ew+LwCngkj+xa3MRSNr3LU7rm6VxJXGPVtAAWqa4nT25kP+bj2UDtC+ABg2mw++d
        tGn4AFhwFoxl+YpSqRiNp7MCgYEA1xC0znE7IVXKId1SxtSLNb9l6v6pdp2Nguoz
        EQkxvUABLbGYBCEaiPYIOQHlD1kcHSK3VvsRBXt/OWpGfHuhs6k3CPq2t9NgDv2V
        6bRikNtMAmGQ7xLZmp4iKfOc6tIJXcy2+W1ZEqn2mea+sRgzH6emDdHJUFSZTh42
        5ooY1D0CgYEAqwka0ru0mrNGTzqucZTCwZiopT5f2pQ+3ckyaUwR/JpyvNdZM2dz
        b2jShQbcHdGo11hZihiB8nXcvzCku16UiMzVqBcHf3f6/aOBule0d35VVTGHPlHw
        vL5HUzkU+TXTJy80NwPfsfs5qe+aq+V5nogCvgG8/JCeAsliFll3G+U=
        -----END RSA PRIVATE KEY-----
      serviceProviderCertificate: |
        -----BEGIN CERTIFICATE-----
        MIIDSDCCAjCgAwIBAgIVAIwM1IbvbFeTSGt3ojzxlf7RgvNEMA0GCSqGSIb3DQEB
        BQUAMB8xCzAJBgNVBAYTAlVTMRAwDgYDVQQKDAdQaXZvdGFsMB4XDTE1MTExODIw
        NDUwOVoXDTE3MTExNzIwNDUwOVowSjELMAkGA1UEBhMCVVMxEDAOBgNVBAoMB1Bp
        dm90YWwxKTAnBgNVBAMMIHNlcnZpY2VfcHJvdmlkZXJfa2V5X2NyZWRlbnRpYWxz
        MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA5rk+K3j9hS84jUC2/U5r
        pRSCCBQKsUf/V9syi6Zz67xu3CRngT3Bwi9Z8Y1iypKf07ghve/1snBbx/RclH8b
        oMbpXww4BzGea1xzNG1lpmMfIcpTOumI+7UvEC++dxFjH3PW7e8a6Inahb+dlXGi
        Kym9oKSifbJmFHgVGoXewkypssx6UP0NA0OTDLpGhQUkHfvpqe7jGdxwFwatoSUm
        N/xT0U/UO6kuPQoHMyVREXpYkdFmRTGXkoQfqrdCHdWwmFv4VxSkAnQYxq9YD2D3
        N7oA/ob7eDaF7Qx35z+5syH92eyP4Sozx/LJgFXz4+r2R0GRlHWS2sLCuE++mgED
        ZwIDAQABo1AwTjAOBgNVHQ8BAf8EBAMCB4AwHQYDVR0OBBYEFD/IwMpw+esmLqgf
        07TE3VLc7nYlMB0GA1UdJQQWMBQGCCsGAQUFBwMCBggrBgEFBQcDATANBgkqhkiG
        9w0BAQUFAAOCAQEAElm/s3eXlKuu2uXYXjGdessKRQjVSecUWIv1ctMfu2Jer9Mf
        YgucYPt85wDUPHUdnSsHfX1keNOHikVN3bHMEpDZkOdyLZDhmZsroI1HqT3Fs0t2
        slaR0gdSGPXmxcIroMdvNKFSNcAh9nI7yUuVgBlTZP5Z8AFgYb7hT1aDb6+XjXcp
        i98KTKC4PsvPUYtWcXQOzGjKWml9gLstahnAVEfD32hV94ddGQKPzKClrGPJ4g2L
        sfN+x6NA5GfbIQyVrQdSPagix9SCiiSQcq2L4wpWj2waY64vubZJtcw18jhtCdi+
        YbfjzHF6hnd7LH5t6vPL6d6SeOY/ymuVngyVWw==
        -----END CERTIFICATE-----
      providers:
        '':
          nameID: urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress
          idpMetadataXML:
          idpMetadataURL:
          showSamlLoginLink: true
          linkText:
          metadataTrustCheck: false
    logout:
      redirect:
        parameter:
          disable: false
          whitelist:
            - "https://console.<%= root_domain %>/"
            - "https://apps.<%= root_domain %>/"
        url: "/login"

  diego:
    ssl:
      skip_cert_verify: true
    executor:
      post_setup_hook: sh -c "rm -f /home/vcap/app/.java-buildpack.log /home/vcap/app/**/.java-buildpack.log"
      post_setup_user: "root"
    bbs:
      ca_cert: &bbs_ca_cert |
        -----BEGIN CERTIFICATE-----
        MIIC+zCCAeOgAwIBAgIBADANBgkqhkiG9w0BAQUFADAfMQswCQYDVQQGEwJVUzEQ
        MA4GA1UECgwHUGl2b3RhbDAeFw0xNTExMTgyMDI3MTZaFw0xOTExMTkxOTQ3MTZa
        MB8xCzAJBgNVBAYTAlVTMRAwDgYDVQQKDAdQaXZvdGFsMIIBIjANBgkqhkiG9w0B
        AQEFAAOCAQ8AMIIBCgKCAQEAwAI/I5GhhpWpJdSUM5rrOWpoKvL9ylINZOxs1kcm
        2g35sipVE/+Vg+8tb3A7sOKLTa/+/yWNaY3o1sv+eIxjsHtIt7Tj1gkFZWpHZ6RX
        jkzyrPCTqaMCrcOjarRRdsI5ExA4CX8qsFFQrYv5Xrv0o0XfctXwAVkc68NxyHov
        v0x0h2ULvp1iff5QyT183LDjOUiiK3gqSrj6BpQy6yp/e/X/aZatQEjvaLuWqmU3
        Zv6WLMA36vPVr4JoZxu9beD4QW+5PBsmGz9yrpaB7jOnFwhU0zvtv/vSZxdrpLmY
        b4ZwXHMR2oY045OdJWI6bwXuOSofPj95aItjKVn5Swuy3QIDAQABo0IwQDAdBgNV
        HQ4EFgQUXMQUYHcIWzZ6aUtbc4Yv/4xGfjswDwYDVR0TAQH/BAUwAwEB/zAOBgNV
        HQ8BAf8EBAMCAQYwDQYJKoZIhvcNAQEFBQADggEBAEhU5Gl+ywoJPRyEvXcrlGdS
        fbvzIQyLS6C6GnXpDTqOLIXtTqrUJkqVH6GXBQcBShtXzfvW5Rua4HDEKj6wPF4j
        5QziIE0UrdJdFMupA3cPE449gITGFG20/O3xXGmeWzIijbFgKOEYyQIkExR3lcqb
        czPN1MMNB6pI+HZVk0sn2QPD3p5kTnJRF0/wvq1rUbQ1ddW1BroCDywTecAgGK1X
        k2OIFEg0Js7aX9/M/jLnNjTdjc5RUE45b0chPQJ9lv2Ub4jqItqtrZhy77a0e5Pb
        ucAbKSizVP/2rml1JzLmL6V4jJtI6RWrUHuCIQDCFBvqN6cHqoQW8x++UuuPe44=
        -----END CERTIFICATE-----
      server_cert: &bbs_server_cert |
        -----BEGIN CERTIFICATE-----
        MIIDgDCCAmigAwIBAgIVAIsjZkDe5vJ9bcs1M7uxE5+vCuMfMA0GCSqGSIb3DQEB
        BQUAMB8xCzAJBgNVBAYTAlVTMRAwDgYDVQQKDAdQaXZvdGFsMB4XDTE1MTExODIw
        NDUwOFoXDTE3MTExNzIwNDUwOFowQTELMAkGA1UEBhMCVVMxEDAOBgNVBAoMB1Bp
        dm90YWwxIDAeBgNVBAMMF2Jicy5zZXJ2aWNlLmNmLmludGVybmFsMIIBIjANBgkq
        hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsT6zQvqbTWPZsa5UN2zN28Y12R0hNJI9
        WWaCHn+unfTZ8jKvFXim/g+oza5ZlDm1TunBDi2Uw913jJcJncX1YFs5HXzAhpVv
        3erRNJ1CPSa8m0XQkDO44qYRwfvUN45P3aHRZnzGeys8jBDvV/epMKXMxeVP/8XZ
        4uun3kKNYKLAgEKMZIQtaWiAB7PKKtrCXASlnMdv+gF5yhvnAVLUqlvbJ+3EyMgX
        C1ARCLyvF5MoP5eLPIh9mdzC+Co75TKS7fIgso9hZnHxRnZ58xl8KITm82QUbyhv
        Njr/qJFddFVgwX9AFzuDnU9qKEQR9udGywfVwIMq1h+5Jp7C+3P66wIDAQABo4GQ
        MIGNMA4GA1UdDwEB/wQEAwIHgDAdBgNVHQ4EFgQUd2OADLKI8P4RBvWTFKi8TdHP
        6MQwHQYDVR0lBBYwFAYIKwYBBQUHAwIGCCsGAQUFBwMBMD0GA1UdEQQ2MDSCF2Ji
        cy5zZXJ2aWNlLmNmLmludGVybmFsghkqLmJicy5zZXJ2aWNlLmNmLmludGVybmFs
        MA0GCSqGSIb3DQEBBQUAA4IBAQCsYfEaQSfXdbbpNknOkXIlO4jmpgd3kuZjiZcb
        e8t67mF3C39+ts88mI4SU/GtqvmujpGALGjRi0iKv5POGCRePFPaIPknTRCTCQhq
        qgI6mLA5MKLg/lqP9J8XzHFNvbDrstHgFisB7CWu5wHQdo9XPU13OuxUWy09y0MH
        YHPT8l9ustMDHNWUB9UmlXDUvvOoH/UKjdlCIRifVlak695MKaJEOn9OWZgP1p2G
        BkUfFeY2LfjufK90wf0awgKIR1CBwuaOBaM/tpDHIf7HMdZOSdEw3TP+2lQ37ZQ5
        OeCn1wWamr6v7vdexatAZJNPdCVTUewiOkFc2y4gp0as7Txk
        -----END CERTIFICATE-----
      server_key: &bbs_server_key |
        -----BEGIN RSA PRIVATE KEY-----
        MIIEpAIBAAKCAQEAsT6zQvqbTWPZsa5UN2zN28Y12R0hNJI9WWaCHn+unfTZ8jKv
        FXim/g+oza5ZlDm1TunBDi2Uw913jJcJncX1YFs5HXzAhpVv3erRNJ1CPSa8m0XQ
        kDO44qYRwfvUN45P3aHRZnzGeys8jBDvV/epMKXMxeVP/8XZ4uun3kKNYKLAgEKM
        ZIQtaWiAB7PKKtrCXASlnMdv+gF5yhvnAVLUqlvbJ+3EyMgXC1ARCLyvF5MoP5eL
        PIh9mdzC+Co75TKS7fIgso9hZnHxRnZ58xl8KITm82QUbyhvNjr/qJFddFVgwX9A
        FzuDnU9qKEQR9udGywfVwIMq1h+5Jp7C+3P66wIDAQABAoIBAExL9DiJzh5jNAuD
        QmdVY8wOJ5HdMzUBGn2IXcypI86E3uieHrX8aM4GiaB4Q8FFkiF1CBCFWHtzswmG
        3rHWzAh9XDmwQOPuIeiCMyoV47SVHy0rwVrBmP2fhRdewvxjO0fpZ01Zusq8UuTs
        SUsxpdf2Fw685lHwphlDXdCUD22gCU2Luf/X6N81weCR2ZBiE9Vs7+NQgSZXfgg7
        n+GX8MZIU6J4KZmhRWuOeSzET+gwUYFEVjGyMf+5zAAAymHXNGk9WmuDpWg4VV3Z
        lrORqT+gamHKAMulnAFaugC0Oudy9a3EynGOSP7bkp4+6QCu1n2E8vszVwM4DIfV
        tqTQIVECgYEA6iPBQjfep02Bnn16x3qR/1e3CjfBu+2dfyXYFMxGe/4udhHZ4Vb7
        MaYpxQy2MKfP4NJpQwRRXsuJCx5IDydkTldIRK2qOrzHBS34GgFwDUZqwPmp4LWE
        HggmtEhNaurYDqvRqOEZFqBq3WAQGd5JYdo9hGtba9yMQVv/AHQNI7kCgYEAwcsW
        GNvI5hRdRl9dzmiQFc7IswyrbR1YS/zctPL6hVEkKriYI6OlyzCJaSEnWLD4Tc9C
        V3I+OCbVDNE1z4p1AAI5s7h4I9wmvPYQxK2lNxTncv0bz5UatwXtWkW9Fgxj20QW
        +sz5DNoBXbuHvg88Nw+z+xsKFrOswG8Ifj0cbcMCgYEAsvMa3OpokQPq4mBS+60R
        cs/uhK+ysVhdfHVHHjY2VMQjbHgeR1y8Zejymbkqcit/9Pu8Gc1uB36WQlolhvd7
        cWjCQkNdDMGFds74hZ+9rVe5db4beTQiQvXF5xovmVzePvBRMLrB+womQwYNqEe9
        XD15sQCAggKxa67NSeJovHkCgYEAjpP1QPrK9wP6kCDv6kGh6HmHzbu/j/rsEJQM
        aZDu4hENs+S2AlqPS0v9fPxob2dceBrJq36g6j0fuFtf5L7wT75TZ7eLpI5/bbz4
        H0vGZx0ZH8+6m2IPEqLouubeNA+PlC2nXoRZo6vtH2Iuf5XD7pq+Bzwgkw1ERxwp
        un8JoHMCgYBH/8MBBE67TScut2KLv8gQUPiQLkbNMzXR3si1nFV0sYOl+28O4zvJ
        EZrD1nmDRNTI/bjCJu2eCOeUuRgzGy2VjCwuQuPix+mRp4miIHCIc5bV2I6Vijsy
        xL9u7xB9xLBCCtgdbNM0Czyy1UgHQH1jMN6RglCNsE2Z8QDC+TbqCA==
        -----END RSA PRIVATE KEY-----
      client_cert: &bbs_client_cert |
        -----BEGIN CERTIFICATE-----
        MIIDNjCCAh6gAwIBAgIUIHzJ2ThG0gBgTOmgs0sVplDufRcwDQYJKoZIhvcNAQEF
        BQAwHzELMAkGA1UEBhMCVVMxEDAOBgNVBAoMB1Bpdm90YWwwHhcNMTUxMTE4MjA0
        NTA4WhcNMTcxMTE3MjA0NTA4WjA5MQswCQYDVQQGEwJVUzEQMA4GA1UECgwHUGl2
        b3RhbDEYMBYGA1UEAwwPYmJzX2NsaWVudF9jZXJ0MIIBIjANBgkqhkiG9w0BAQEF
        AAOCAQ8AMIIBCgKCAQEAs+iOelSp8GAZryCXc77SUgj/x8MJJIJ9TM71Gp+DHjZM
        RLg27o9iTCEaCZky8S1qBQjG2Q90iT37Zsf3SRpDjm6ZZab0Pg/d50s0pF4rQy8s
        6xhhxw9iXbyb6YwwpUexTKutTSyaKXM12HQCd3DeNB/J6SG9tAbFVzOMOf+wE6w9
        wByAkE7strCfwibUjrCTaSQzzRquKc50iuYTMFAWtLrD35HY/NXTtwADys9ioyhh
        u23wyRDHqkzHR0jPmEZJHGL0sxon6zbVn1SVay+wsqCW9zThjO0bSNDA2219gSiP
        aSJvEVPWQoWJq0SyPFaVux/l2V6wWBsfMwltBe/OmwIDAQABo1AwTjAOBgNVHQ8B
        Af8EBAMCB4AwHQYDVR0OBBYEFJB85TezKxTIYatEsKc3PC+0RfrtMB0GA1UdJQQW
        MBQGCCsGAQUFBwMCBggrBgEFBQcDATANBgkqhkiG9w0BAQUFAAOCAQEAAxRgO0qE
        wyUHIVK5RwKpA0KLZaFZ/WRMyzzEGJPv+dsv6MUxW28jdrACdvgYL8EW40jI8oxH
        Ck7S4hnKxx3wZda+FY+jg9v44XDfkyRB3daoJb2+ygOvQa4L/YhTvyTe8ra3yol1
        /zSaPLIyc0r/25jOyVjIiJqnjxkgg14a3mJSUT6gGpsuCLvP+1a4Y38y5fO5A9hE
        WT7GqQcu/Gf9ZN7yjhj6cAwV0YPEOZ2JSIre9W+LPtwyqnT0gCjv7Qke+gDznSKZ
        3LV4CuSwtMPsiAgCSJUWfvAg4CceqfP8+BmEzlKt3Y+tbO2qMUGxPto8rTvJPePH
        2fki7dXTdC7uNA==
        -----END CERTIFICATE-----
      client_key: &bbs_client_key |
        -----BEGIN RSA PRIVATE KEY-----
        MIIEowIBAAKCAQEAs+iOelSp8GAZryCXc77SUgj/x8MJJIJ9TM71Gp+DHjZMRLg2
        7o9iTCEaCZky8S1qBQjG2Q90iT37Zsf3SRpDjm6ZZab0Pg/d50s0pF4rQy8s6xhh
        xw9iXbyb6YwwpUexTKutTSyaKXM12HQCd3DeNB/J6SG9tAbFVzOMOf+wE6w9wByA
        kE7strCfwibUjrCTaSQzzRquKc50iuYTMFAWtLrD35HY/NXTtwADys9ioyhhu23w
        yRDHqkzHR0jPmEZJHGL0sxon6zbVn1SVay+wsqCW9zThjO0bSNDA2219gSiPaSJv
        EVPWQoWJq0SyPFaVux/l2V6wWBsfMwltBe/OmwIDAQABAoIBACSlzNAyiuOCT/kS
        pIdZabJ4TtI8cpJTWn7Y8ajYsXboDKU6+UWjQ5zKaWlnIa9rVttrrEXvFggW7i1D
        sqXbicNr2CeS2NIDnWpOMY0B+cIXzAif0Nsh0SHTF9d9TTN95Sn/FrBP05957pAH
        IbF+9mSbzR+GVgRkFLLstzXhVdbLudkCmp+mxir8eN4DsyIOMFlw5eDSWWvI7oSb
        r01++Y/LgR/r2dQOf45bTfSMHefDH0cfAyKeVCTuwRKAaJJFObaWxqDlQCnjvV7F
        hHagq7Cwak66HRWhSRBRwAQ3iI7IX+m4AicCgeIUIOBtSxzE4h2PdCsv26yUHR3D
        tD2ReVECgYEA3JxakFd/bYgnJYByHvZfdHEewtsSREuN27q1CB1ew0P5pBfZgK62
        EO1UKBIUEJ924DegCwdZPLrcm1FOdRdm86cIyBqnhrBhCBKqu22fhlV6fUBYEx4A
        TjBMs5WJDhdU9dNREkF5/S7J6HgUxtIvdIQjPbJpd+c/PJJy/ij3XT8CgYEA0MS2
        ZsNjWPMKa4UoAxIi0oB+CHrUjpGKnE/maW+OvakwLI/50RPcbA6wQ0ZnIQC4d078
        6YW0zhqa+PeFoKy2c2o4hB8HCC7o1vlptATnrcUyKYgkQoenrWyu2KeVakSlQd9N
        R9BWPrLkzS3aXW8jgffxxSJRGHJlpta5mg/BC6UCgYBSB+2A+JgQcW0k+7Lzomby
        FFH84JrVPEbeanmAL/OZpgAArUGaINzgRG9jiv1dBP6d9vESyMO82jrHoh8LWQ1W
        EkkopwieA53A87f6g5OqzsQCKNfXG/O/HySWLkdNLw3PbqkZobErnKdFQslu+J7e
        s3erLFkdVaZk7ovFyBPa3wKBgQDE5JGmr6YV8Pol16qZ4tPmtfqnorivUUJqE80a
        KXV1GIjvrkYM0u9zFhNVD6QZ8yUGmP9cepbAP0Vjg4aKt/lHNqngqaanKB6/CPGR
        L4MVV0Ls+pJAENKqdDMe8Eaxt9YoHyMylKGSdoPlotYsgrH5VM+3fZsANHv8cs0P
        KMaHZQKBgFjsMed30+ufTbU0tkNaFkp+LAXJKreFoAOWNRZTiwCItr97CaV3pBlH
        04Nyjgm+iyKYaxOhx0Rtbmex0CarRwLYaf9b/AhCaobDMjtkFNmyVnFaty736UpN
        4sP6R9yPRjNRH8WwmiU6d37D59v6Suac2jnNgkaALdAwtuUUuFyV
        -----END RSA PRIVATE KEY-----
      active_key_label: key1
      encryption_keys:
        - label: key1
          passphrase: "<%= common_password %>"
      auctioneer:
        api_url: http://auctioneer.service.cf.internal:9016
      etcd:
        machines:
          - etcd.service.cf.internal
        ca_cert: *etcd_ca_cert
        server_cert: *etcd_server_cert
        server_key: *etcd_server_key
        client_cert: *etcd_client_cert
        client_key: *etcd_client_key
        peer_ca_cert: *etcd_peer_ca_cert
        peer_cert: *etcd_peer_cert
        peer_key: *etcd_peer_key

    auctioneer:
      bbs:
        api_location: bbs.service.cf.internal:8889
        ca_cert: *bbs_ca_cert
        server_cert: *bbs_server_cert
        server_key: *bbs_server_key
        client_cert: *bbs_client_cert
        client_key: *bbs_client_key

    cc_uploader:
      cc:
        job_polling_interval_in_seconds: 25
        basic_auth_username: internal_api_user
        basic_auth_password: "<%= common_password %>"
        external_port: 9022
        staging_upload_user: staging_upload_user
        staging_upload_password: "<%= common_password %>"

    converger:
      bbs:
        api_location: bbs.service.cf.internal:8889
        ca_cert: *bbs_ca_cert
        server_cert: *bbs_server_cert
        server_key: *bbs_server_key
        client_cert: *bbs_client_cert
        client_key: *bbs_client_key

    file_server:
      cc:
        job_polling_interval_in_seconds: 25
        basic_auth_username: internal_api_user
        basic_auth_password: "<%= common_password %>"
        external_port: 9022
        staging_upload_user: staging_upload_user
        staging_upload_password: "<%= common_password %>"

    nsync:
      bbs:
        api_location: bbs.service.cf.internal:8889
        ca_cert: *bbs_ca_cert
        server_cert: *bbs_server_cert
        server_key: *bbs_server_key
        client_cert: *bbs_client_cert
        client_key: *bbs_client_key
      cc:
        base_url: https://api.<%= root_domain %>
        basic_auth_username: internal_api_user
        basic_auth_password: "<%= common_password %>"
        staging_upload_user: staging_upload_user
        staging_upload_password: "<%= common_password %>"

    rep:
      bbs:
        api_location: bbs.service.cf.internal:8889
        ca_cert: *bbs_ca_cert
        server_cert: *bbs_server_cert
        server_key: *bbs_server_key
        client_cert: *bbs_client_cert
        client_key: *bbs_client_key
      zone: default

    route_emitter:
      bbs:
        api_location: bbs.service.cf.internal:8889
        ca_cert: *bbs_ca_cert
        server_cert: *bbs_server_cert
        server_key: *bbs_server_key
        client_cert: *bbs_client_cert
        client_key: *bbs_client_key
      nats:
        user: nats
        password: "<%= common_password %>"
        port: 4222
        machines:
          - 0.nats.private.<%= deployment_name %>.microbosh

    ssh_proxy:
      bbs:
        api_location: bbs.service.cf.internal:8889
        ca_cert: *bbs_ca_cert
        server_cert: *bbs_server_cert
        server_key: *bbs_server_key
        client_cert: *bbs_client_cert
        client_key: *bbs_client_key
      enable_cf_auth: true
      enable_diego_auth: false
      diego_credentials: ""
      cc:
        external_port: 9022
      uaa_token_url: https://uaa.<%= root_domain %>/oauth/token
      uaa_secret: "<%= common_password %>"
      host_key: |
        -----BEGIN RSA PRIVATE KEY-----
        MIIEpQIBAAKCAQEA0A8RpzkksPj5cHjk02Gc2UtAlhYLoUFIeP+TS7vKjcm8dGLq
        481fhvyttoHIMF3zdkeuUTAHeFC8Vpy3FFostpljTBuvccV7//b5m6xOp7HS8+R7
        sgohPoQOytlRuymfEqAYutFChmWnDaq0hko/dILXwmAqBiKX/xMv/w2Bq91FlCxX
        +agRFo3t6VNFHIUw3Stp0MBNPE786WNA1oXB0YefjRvTgn+NWayUmRg8kpCiK3nl
        m7HxgYPsfFtJU0cTMLEdIMJQg9bbh6ThRbQGNCMdfywD/DXT42Ec2o1cmaaPwJPq
        Nu4ACbKbYbkls4QGHeaWlWzHzGVeDrnhOxGtkwIDAQABAoIBAQDOelXrnZMjKkLp
        8qAsgw/UuZDEIeayxoX0xrZYD2rqIY2r90rifjtSTErc95lDHsnx1RtSqRaQuZbf
        YbFzOjZrlHft3P/VKcZwdJqsemiolZojvtlfDByH3SiM+PTaiGi8ZDOGmwupMxKB
        RqrXJrIon30eAq9R3Vz4oAMe3DmW4zwCUV2KskkAw72TuVI145dB/ToaOl4wQDl/
        I7+QBhlDOp93Jzq8GeBoSN5LTWuggj4LCAElioky1ZK6tR2knEFrdzBg0eyvCKyF
        xxI5a0dGKld42qAhKTwZE/RwjMAf2Ft7KaQdfqW5NqH5qnvyfL7hGPLMoF9vl4eg
        uE/pDcY5AoGBAOldPz7X+fGzmB1BJ1sm4ycS8d/rifFM6Mvj2jV7iHEdeFl/TU9+
        Z6d17x2a0I4p+UcLbNbwRoOFTaKVoqtLrXVgm1qk9N9rBKcEMEXIOfxmaq40FA/i
        a+uhRoSxcRzNlX/f46z7tjqc1A5/M1zldISHH+i0+EjIj+x5U8hoMDe9AoGBAOQ9
        dGXxvjr1cHJktAhJTKrnbsIf693mF7XpKbeVlWixTgo224RecrOrFC/G2VpJWNQu
        zKRvoayOUSqEgxvMChYh9BdGaHqVR3ieOPq54MycejfeS6JzfK8Tx5uIJpIpX7pF
        +cGuOEYu+wsDFow8gDkNG5TPNtpHC/c2lBJzI+ePAoGBAK5UaHDL6v3yigogqAPi
        EwMXlfUPAedu6uGVf2dAt3a46zUAcoKWDVz+LvjQtEffd0bpdA9FQ4fwx0RTwEdy
        q0vqNWQLoppcWgdii6U1pIu2/q7QXMRZAwHtYr6xx6wasDnsySpqh4FVstx5jacy
        Ck8Omnm+51OH8GxZXotxucOJAoGAE1QY/WEhiQCsCyP4ExOSCI8c1Be788i+jUs3
        mzJxurH5N+g5YtZUxF5ikUE3uuunOCDWd750ZJaQzRb3u2zmFcW+VBJEWs01hkNv
        89u16938g6qxoQpCrtjv+H3pNkuGrdGrOvm0Dk2AOQiD6lBdU3eGtG1v6cBGhSL8
        GyvhCIUCgYEA43A8tcSZXhWyXOmHtWqlhzHPUlDqfrNZfZOWwmLrjyyrEEs1gLWV
        PqSyfJffc3P5cKNqetMzKCqSQEHES/0+s0GlY1LZjyrDmfGyPpWRdKsBE2ALT9z7
        0EKwlbbvTYGTjwez+QgBXMwGbZTukZkClcCB1moHSf6ebapvw/VmO20=
        -----END RSA PRIVATE KEY-----

    stager:
      bbs:
        api_location: bbs.service.cf.internal:8889
        ca_cert: *bbs_ca_cert
        server_cert: *bbs_server_cert
        server_key: *bbs_server_key
        client_cert: *bbs_client_cert
        client_key: *bbs_client_key
      cc:
        basic_auth_username: internal_api_user
        basic_auth_password: "<%= common_password %>"
        external_port: 9022
        staging_upload_user: staging_upload_user
        staging_upload_password: "<%= common_password %>"

    tps:
      bbs:
        api_location: bbs.service.cf.internal:8889
        ca_cert: *bbs_ca_cert
        server_cert: *bbs_server_cert
        server_key: *bbs_server_key
        client_cert: *bbs_client_cert
        client_key: *bbs_client_key
      cc:
        basic_auth_username: internal_api_user
        basic_auth_password: "<%= common_password %>"
        external_port: 9022
        staging_upload_user: staging_upload_user
        staging_upload_password: "<%= common_password %>"
      traffic_controller_url: wss://doppler.<%= root_domain %>:443

  app_ssh:
    host_key_fingerprint: 13:a8:cf:0a:f4:ba:5d:51:52:04:08:6d:f9:6b:67:2e

  garden:
    allow_host_access: false
    persistent_image_list:
      - "/var/vcap/packages/rootfs_cflinuxfs2/rootfs"
    enable_graph_cleanup: true
    network_pool: 10.254.0.0/22
    deny_networks:
      - 0.0.0.0/0

  skip_ssl_validation: true
  router:
    enable_ssl: true
    ssl_cert: *ssl_cert
    ssl_key: *ssl_key
    ssl_skip_validation: true
    secure_cookies: false
    status:
      user: router_status
      password: "<%= common_password %>"
    servers:
      z1:
        - 0.router.public.<%= deployment_name %>.microbosh
      z2: []

  routing_api:
    enable_routing_api: true
    enabled: true
    router_groups:
    - name: default-tcp
      reservable_ports: 1024-1123
      type: tcp
    sqldb:
      type: mysql
      host: 0.mysql-proxy.private.<%= deployment_name %>.microbosh
      port: 3306
      schema: routing-api
      username: routing_admin
      password: "<%= common_password %>"
    system_domain: <%=root_domain %>

  tcp_router:
    oauth_secret:  "<%= common_password %>"

  tcp_emitter:
    oauth_secret:  "<%= common_password %>"
    bbs:
      ca_cert: *bbs_ca_cert
      client_cert: *bbs_client_cert
      client_key: *bbs_client_key

  bbs:
    require_ssl: true
    ca_cert: *bbs_ca_cert
    api_location: bbs.service.cf.internal:8889


  loggregator:
    etcd:
      machines:
        - 0.etcd.private.<%= deployment_name %>.microbosh
    tls:
      ca_cert: &loggregator_ca_cert |
        -----BEGIN CERTIFICATE-----
        MIIE8DCCAtigAwIBAgIBATANBgkqhkiG9w0BAQsFADAYMRYwFAYDVQQDEw1sb2dn
        cmVnYXRvckNBMB4XDTE3MDIyODAyMTYyNFoXDTI3MDIyODAyMTYyNVowGDEWMBQG
        A1UEAxMNbG9nZ3JlZ2F0b3JDQTCCAiIwDQYJKoZIhvcNAQEBBQADggIPADCCAgoC
        ggIBAPPWwASQYPSvfEDoluHGv3GhLdMgkkQ5Pd+LZavk7Y/1zaOD8fz2rQXrgdPk
        KZ8CKydlbI+AwtPWV1DEyQtqWjobRXhee7oGoqGobaa6wCBi7fjYMwFhmo3RQCpO
        wPAz2WP9cRnsQK3D1L0DiiLGvjOdkacRBNQG95sUartGAj011e2CH5xeb2OOqKTw
        rIi5USKY4Up2gbjvXlivEHeqfkxoae8v1ZWYlEq5y5qW3SPqAmDQDnC1Eu3umy5N
        17xTVBHNs2wCL5UgVMZYhG2UHeLbZWqcSfyroOwx1ObCHEJpigOqhq5Ohst9os/x
        O01LV9qzHu8MbX/QcH+3LONxRT3nwvxTsrJKpe2EbawfwFOZwehXIEbCyO4iOsFU
        ufencZ4kb5jLK8aG3/nZTZnO/V6Q83+qtlixYvq9KT+l6LFSrh66mgGHEmgipRq9
        9PuQGHU1H84RqeO41yLdjL+zPoHqSQO0zRIcy65zt1/N0Z0fTEyU93L+Tj6X9jCb
        f1lW9G6NkWpSOaDXcehp0Lskc8AtAEy+TehX66QDpVbmafePY1vTUmACp4IJf2Xa
        tsEl/rMTHotPLvGP4cAAE7GRk+/EHiqev9wgdn3ugxMgQzOTGIExWpD7yGD7LmWm
        a9y9ggor9SuoAy5z5wP4r4btt4x7xtcREj30K1NoVO1vI/aFAgMBAAGjRTBDMA4G
        A1UdDwEB/wQEAwIBBjASBgNVHRMBAf8ECDAGAQH/AgEAMB0GA1UdDgQWBBSVjQsJ
        U38Vk/nZl5kMZZ29npPaBjANBgkqhkiG9w0BAQsFAAOCAgEAUobiuYj+vepAlS/y
        W21wRV1S5BAOXtdzOJKm7yEZIKvruxzXwTuOFxh6SQCHL9/xixwT/5QAwchFqef+
        fGuQO8DOT6RK7o+7wofaIC8/eRp+wpvG5EunGlpbFye1boe/6r66jEKcrzxRVEId
        Q+v0bn7KcfOgEt2XC8A+GgdrYggg35FgZH5/17iNplnoU3WxgBYTMkuZtm1FuZDq
        H99j4q+7vreJy6itwbrzteksAvsn81RFhsz7aYHBcWaP7HuY/boVf7jg4VqpxgTj
        R8PFIhWGCnTMa5RO7JaCaAi5Un15UEoasDMjWBiFVDLDHwyn8fZZv+46ZPwiOP46
        x5LA47xVCT+JbEx06cSybF6dwTUg/dbJY0AF45Wx7xJXX/ziWwrZrTjoQB5O9K2U
        WGB8RP1sH7Df4pwLdsXEvZE+Dp75FMuBZ/4iJnD/c8oEULq41dvbCwYJXkQG2ScI
        YTqk3ydH64AxEgcLqxO4IX88iPqdDNuxkbX10q57ueJhsHyslAX1qZEdCbYuNFoY
        Z2PaufTdKox7P3az3MjPP//0rOpEEMahMjpB+1rpPmH8yc+IdZtWQKbfCeGtYpws
        EBQtDu17YzAyNAAyrq2OtouBdywdmrMyDe953/eH/c96InK78hUCGQeRPDqlCSmZ
        XlNh05fKT8YYkvUB5FnpFRebt9I=
        -----END CERTIFICATE-----
      doppler:
        cert: |
          -----BEGIN CERTIFICATE-----
          MIIEJTCCAg2gAwIBAgIQdXBSt1wpA+bR4UiaUll8aTANBgkqhkiG9w0BAQsFADAY
          MRYwFAYDVQQDEw1sb2dncmVnYXRvckNBMB4XDTE3MDIyODAyMTYyNloXDTE5MDIy
          ODAyMTYyNlowEjEQMA4GA1UEAxMHZG9wcGxlcjCCASIwDQYJKoZIhvcNAQEBBQAD
          ggEPADCCAQoCggEBAMLL838aBDbxecbjwGGTw07GFwKIs3Q/RvTwvM5bKq3DxoJX
          268tLRe1VZv+syWvCcizltHcotMR06HzpvHepqWTaS2QokakvbQXzuSoTRRdfJC2
          +Y+8z4/vLElPlINYfQ1POij6fpnVwI5FoK07RwWsLcnXGXqnDc+a9TvPepDW3J4I
          dHZU4YWb1LSSIxnPEE7ihikE67i7V/SJoGd0umuWi8XDn5Z3AboYeJrlxOk1yb1L
          xQiq+leVNQOSzAra3hXjok/GQ2a22u7xHmY6MV+HzET/qF9+kwwFAObIyeSQyLqK
          R95B6OMGga3hEM8Ml2CAUbT8WiZZIKxtgICiXecCAwEAAaNxMG8wDgYDVR0PAQH/
          BAQDAgO4MB0GA1UdJQQWMBQGCCsGAQUFBwMBBggrBgEFBQcDAjAdBgNVHQ4EFgQU
          50quaeIsXy+Yz1ME6FBQp8wX/IgwHwYDVR0jBBgwFoAUlY0LCVN/FZP52ZeZDGWd
          vZ6T2gYwDQYJKoZIhvcNAQELBQADggIBABCETu9Uk2h2QZo7F4jfmRRL5mChDc+4
          ZS5GjHBh3t/HRRqs46VhiaDCQkiRAZh3fl18XODgpRsCyDCKyGzUThRKXhGyxg9E
          QSpevAKLNAAkpE3ycC2YEESWgmBY1X9XaRelTw3AmvupjJn6p8bDEmAovlzQniLj
          wE3fEmuQqHAjFy65gA8Rp3D7cuUnAAyVQJMeNYIKfGfVQ19ANAJPnpAPVRR6qcDg
          zxpXOQGFFy8hI7p/F0/UJzKviyp3K99piCYGLYHPR8uz10BzTxYkPGvcThBbeJnP
          TX/qj4Ill3SMsAVbXZ77jaaAc34VA1BjgqFhdqdjYTpZtwKQHs0uDNH8eVRfD45G
          BcYO1YUp3Iyy2iLbUnZnaQziXjn549hX3cpO7l+4EB5EO5JpoipAIMkKYAI2ck4b
          N0BcOsag+e619r/R74HWY/l3rBUhdUdqTsza3PlL7I6Occ07W+D/5J6ArLo2c1JL
          hLzfNxYxI1CQPf+tl0uTFvSZUPwEosIHx0N9t+D9tDmvS0IAZo790ffofjB3FusR
          uNiPy0DcDej0Gcq9rDC8lyjTzvZgnYs6QeteESZpBzQCQK+/OHIYme1QGl4yg9qs
          sqZzpokj5G7sGYU9LgJwVuicffOfP3nh1bAzZ6zRliqW7hj+UmSgJ0ibW2o2HKjh
          GcRxm2rRhdDc
          -----END CERTIFICATE-----
        key: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEogIBAAKCAQEAwsvzfxoENvF5xuPAYZPDTsYXAoizdD9G9PC8zlsqrcPGglfb
          ry0tF7VVm/6zJa8JyLOW0dyi0xHTofOm8d6mpZNpLZCiRqS9tBfO5KhNFF18kLb5
          j7zPj+8sSU+Ug1h9DU86KPp+mdXAjkWgrTtHBawtydcZeqcNz5r1O896kNbcngh0
          dlThhZvUtJIjGc8QTuKGKQTruLtX9ImgZ3S6a5aLxcOflncBuhh4muXE6TXJvUvF
          CKr6V5U1A5LMCtreFeOiT8ZDZrba7vEeZjoxX4fMRP+oX36TDAUA5sjJ5JDIuopH
          3kHo4waBreEQzwyXYIBRtPxaJlkgrG2AgKJd5wIDAQABAoIBAB6snxtUrXU5cUOw
          eYrkCc1NxDHR9PBJRpMrlY+pK39RZOEBlMZxBrjFBUYbRXqZpaDFJurFI565H+pQ
          w+kydmt8WwOh0uvs5TKGzT2Ugw7B6euf5IyN3uF7eC3TKj/En2yJHU92opj23+uH
          a1XcD8ME6fDuvkRiKfqXHCbe9R35cTRZW0rdVsMDNSllPb3s8/y01acxCK/DGFkt
          MuBrHbzDEDauybDyR+DR1QscKK6XsZ6b4jfxJKZOW+pYUUuJtvQjw4+FoqApHzuW
          yJae9bNwndJRR6jV0QUh5kW+16Z1BRQEfaohxS/eDB8kJkWe2I9ERU2qbD+VX8ZX
          qiyI34ECgYEA01VQ16CKNTESlYK8+mqqeGg9NgwHLYoD+VKifLHIXmoo+ZKlmnCO
          l5f3YsbHqhyiwlQljsFhaZlVg8uw32SwVJBC4y+AunIMZY9ID83MDb4C+C4f30hf
          R3YHSBjUubMbn1ObvZ00fBoN4jSMJIo9V9H4ppETE5df0flVfl/v6YMCgYEA6/fi
          fJTiDMScff0vE/eCnGyUMBAf4RcByRgKj7mxKv3WB9ZEgpMnsxX7PAG7LsY28WzI
          hfXW8jIRmMqhVoaJuzAHWjtt9yZiPOWpv0esJY5PnNj67I9yALJ+1AA7kdkIIAyZ
          Kj0Y87CuGvq20p/4LI1q+njavcblenb6OmIcIM0CgYB0ZYkhOkrlASI7NsbfJeC+
          cKtGGVnauyl1KQ5Vn5W8arwmuZ58cYIX/JtEzDcsepkqby5AckI05z8yV/4TDGIS
          MWKlvoQoLKinR0NpcO/yobUA/GaRlErmERvxmbuQjBWqq2IcDXna4H7FGCwX9AvV
          UtCg7UaUg8tC2xE7iZuaAQKBgCpcPK9qts3d+c3wRqRJ+YuFPnEGZAKvc6WbCEJW
          7oQuP172yyO5sRXIK2rRUL4L3U8n3TOXN3gRHvGT5rS2wED3VUqQgqQsotQV0oxB
          HJk9W/NnTFxtP+T6JiR+yjLbiEbgnBpmD3Wn0QmM2ocjKpUs6fh++5239/gtJayX
          cj89AoGAZ25B/x/Wuc3hJAilhDQdoi2hSK9UAWLYTqKNi0qzwQ9v3ypDEfJSag2h
          UscvSg75yAa/b28haNBJt1TkFK51ardz/OEyV+qHL5MPW5zOcOvdriJ/7NwROrA3
          TpcQkUAsNOk3+Pu1iuGTdq/eHN14EsWlVdIg4dtC8tJ7jtLHKD0=
          -----END RSA PRIVATE KEY-----
        ca_cert: *loggregator_ca_cert
      trafficcontroller:
        cert: |
          -----BEGIN CERTIFICATE-----
          MIIEMDCCAhigAwIBAgIRAIIgYFXUvtERckb4aRaHFZkwDQYJKoZIhvcNAQELBQAw
          GDEWMBQGA1UEAxMNbG9nZ3JlZ2F0b3JDQTAeFw0xNzAyMjgwMjE2MjZaFw0xOTAy
          MjgwMjE2MjZaMBwxGjAYBgNVBAMTEXRyYWZmaWNjb250cm9sbGVyMIIBIjANBgkq
          hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApkcmH3qegmJ1Zz9pW4ux5sCfhnULtyuB
          sGrO0xeuEYtEgl+jV4qBrscoEEDEIx9JZt9YW932dhsfgXIxyndD0VEhZ+h850G6
          BeRUGcJCowJ02u6093fyF1sIB/iEvt/22r6Vczm264g782VRgueRUr5Do/jABVxC
          xik/XtuB0zkK/rIU5il+NjUuQdzdRAnZ8gemuv1h6JvVc+jr6Y6yqqi5uEl/AEX7
          OUopJM7PFWhHCaMF6OP3YX2t0PkM0zzvkBblB5Peuo5mnUXIrwqZyMnkWM4z8OHG
          WVSV8T9cEk67576Zm/GUEg6WdzxSLrT305qRmuxgTJJyMBKcMmGpqwIDAQABo3Ew
          bzAOBgNVHQ8BAf8EBAMCA7gwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMC
          MB0GA1UdDgQWBBSNNf3UNckVvsUu4Hzv74emKRq8zjAfBgNVHSMEGDAWgBSVjQsJ
          U38Vk/nZl5kMZZ29npPaBjANBgkqhkiG9w0BAQsFAAOCAgEAuXCVZPt6Tt4uXXLK
          hEeCxw4dvmPlRrfDtBDMbbM+lYjTjjDC+Q9IVhPzgR4UXZjnUHeKsInQWxKNGkg3
          o95p7HvPiT7oPMMTF/GYHPzB5Fkhgp04YecR3N5GZoppgh7L1a2RbGOcBotpke7g
          GyvZWqOjmS4selfgNpKylVv6UNHcZLyJKAh8TF+fg4z+2xQXb2qsXLkYCmVSbX2A
          Ap9Pf+yCz22DIxXMiTDk8j0XCn/Ann7GRtDhDAx6q4wOjqSviLhyp58uvk04wZmm
          Zd1du51a84GBYdtY117rtI9SkRAAGlgmiHJVOJx3iZSdQn4lZr3vns/rPInlR1gU
          w27Jsg1TW0/u59Zc3VshvHMlr0pgTPYilKFtZMkXFOeFB14nZcmMMzBohbk7dpmb
          APo/R7uUzAYW2p/JzJZ0/kpY6mFwX57sfnnEqgvOEoNQptqFAtJ45zwJfxwMDoDN
          7jy7D2N0h4dLxZfHiGWV7Y3Px9l2VnlGwnL3ouexi3eTOSDPVEQb/STJF0GO0Ja9
          mDuRLqBagihb7V+V/D+lvTD3hBJ8ML79G8Znx6XEukf5b/GIeGh5Tmmd9RhlZMzs
          GhiRhac7yhAD5+7URiKngdig8ea28kw5Ag93T98ddVOj6NpIucZD7TKyaJUG/lXv
          4abI4IYTUY4/wP2Q0MmE+MDQ6XU=
          -----END CERTIFICATE-----
        key: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEowIBAAKCAQEApkcmH3qegmJ1Zz9pW4ux5sCfhnULtyuBsGrO0xeuEYtEgl+j
          V4qBrscoEEDEIx9JZt9YW932dhsfgXIxyndD0VEhZ+h850G6BeRUGcJCowJ02u60
          93fyF1sIB/iEvt/22r6Vczm264g782VRgueRUr5Do/jABVxCxik/XtuB0zkK/rIU
          5il+NjUuQdzdRAnZ8gemuv1h6JvVc+jr6Y6yqqi5uEl/AEX7OUopJM7PFWhHCaMF
          6OP3YX2t0PkM0zzvkBblB5Peuo5mnUXIrwqZyMnkWM4z8OHGWVSV8T9cEk67576Z
          m/GUEg6WdzxSLrT305qRmuxgTJJyMBKcMmGpqwIDAQABAoIBAQCfQKWSoK4P0pz/
          NgyCUVkh2HrxHEkMNe8QODu+kX917hy/gTnALjfmXXhRmLZBrUVv8Zl+4yeaFoAm
          SmjFsVSStVF5Y4G9O4Ye/oBN63BHD6M7zEQmgAqts9INUEhTR83103Lv2OcIzoIc
          q31WEtNsnC3MbgH7IFIT2I2JHFNLKFvZXI4CFfHpYO4IsEfvFGFpUQjsLzni0ti9
          IOp4Sbm62HGZmjtRUWGz68uIdmEMganJ3UA4hm80wjEl8jye8ZzhI6txxBBu9Dow
          eijTP/sz8SH7dh20vJOTm8j/vRvDPXeqhc3NM1Fp+HtHI5MOXCLSUnw7Qz8qlUMY
          itJx3k2BAoGBAM13XOyVLk/h1uuYnwbgoa2ZkKLptBO7yQdnwPbWa5Duh2W3/CjJ
          qu/d1I0jZiTPmdfeLBzNsmkLodRMgt1tt6TQvJItYQS6pgoMdqIdZ30lLTyqlBsj
          3+ZMs42z+Y2i0UVWTRnwWRV1eIDp4lt1llvk7R8kKE6sNBLzMmnTOqj3AoGBAM8s
          ZYG5DHUioaPJz663FJP7VZg4ryVASHrYkHd7/J9VmpavRVr+woMUqqo2x9XJasMs
          OAcZuxWhjN2Yao8fYKKSMXy5gd4p6ePz+xhrOwjZuWioMLpUssA0HJNy9B++SCts
          +bg8MuV3akagWHyOP+KLuj5EprnuVOtaDcQaLGvtAoGAJCkTs5d1tR1cA86yfjVe
          fvz91Y4n4Sk1chYygb6u46z3K1G8ETmc2eZCmCxYt7XJr5IsVU1mTtJ7Qq/MgEfl
          AB60cU2HO5vVyQL0hgeCxSWb1od21Wf06cUp/JBmJSU4i2lq3FvOcdZgxN9ktQ/2
          zGl3yflFFsN7zrH6d2Fze3UCgYAY/GHBo2+9MNAN0OkbSTlSH53THgMBmx8isbu6
          rVlqXgim47yZnOAYrwVmQfUX85LMtyiKsq+9jB5RG3C+kio1cSxGvpjLEoMC2woN
          h+E20Atsc9xsnIpyY9aOce6/ZVOO6TW04o3A3wYSPoRtgTpzOCbeG6mAAx56xAGl
          BQMWgQKBgHnO5Wgtr3JG7JeY2GEOCibO9xWwSDwarCZuuIYOhMZolRROKQf/h4GF
          IrKBMxqAL4Vthslxamgq829/+QQG3VVaDM4eZpZAyq5LhFXGynPnoS91Dl04QAsL
          pJSDGfgU/qHPtz96Q9T5KrQd7KEVi+w/5XpFjXU/jIHuEqDUfz1r
          -----END RSA PRIVATE KEY-----
        ca_cert: *loggregator_ca_cert
      metron:
        cert: |
          -----BEGIN CERTIFICATE-----
          MIIEJDCCAgygAwIBAgIQPrNQxuH6jmn+GcgN3N/l9zANBgkqhkiG9w0BAQsFADAY
          MRYwFAYDVQQDEw1sb2dncmVnYXRvckNBMB4XDTE3MDIyODAyMTYyNloXDTE5MDIy
          ODAyMTYyNlowETEPMA0GA1UEAxMGbWV0cm9uMIIBIjANBgkqhkiG9w0BAQEFAAOC
          AQ8AMIIBCgKCAQEAwazfgxzDVRsYZttohIo7+Gm+SGPba+tqhezafNzp0V5gCyQN
          GaomxfY8f3cuF2nyGba7OBRl2rsRNKPY6oaB87Jwwp5yzR3kW12XurKbt6Isxmbj
          4QmWvehyVkgDF/LGqyd/dBt+Zc/4Gkhw4TIzyQlHiH493ZrQYvaqsNdr6iyBt+LZ
          mK6Fn82XRX014VBIWGJpeo+jcnu5ghIMIh9SV/QxOXOgnU6E4f9yc1ySNRgNi9oE
          M9sWJwWvEqwMQpILU4Q+ph8B3dNmUSYTQzX0vqU9F5kOC0QTVdw/Lt+9dVsM22zh
          DNAF+n1jgA5pd3KRfX6ChMmtSMpiMNZlU7wA8wIDAQABo3EwbzAOBgNVHQ8BAf8E
          BAMCA7gwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMB0GA1UdDgQWBBQW
          eOMLVTfGi889JFcDCHD4CEnsmzAfBgNVHSMEGDAWgBSVjQsJU38Vk/nZl5kMZZ29
          npPaBjANBgkqhkiG9w0BAQsFAAOCAgEAVYYKUrHJVUy26jFID31Q5mgdJA7mMWu0
          Q9E9DSFO34hM8Y636jhg6+NvfJQgeKAQOgE2fUCR6WVBOY6TiTWctSgCMkw8WsU0
          tq9H13iIDZmkVCn00UhYPpoYTR6uqP30TW24yQMaDDN5TyUSplyob3K69fLkRBBi
          o4863Nb/jEemnb3g+QoA4DZxD6E2gSpb+S4ZtPiqlx908oCPefv8d+PM7BTK9pvY
          lE8ONBiERJD7Vt6ewGwZe11sIn8K3x+l8cTdwxkNvLG+6s5XEyNvKgunIEdRjHhI
          Z3x3IlrosRnjQp3ks5hSkqwnh6hTH5v21Z3UzXdRQZChvu3TeponaBEVqE7ChP7k
          vZl4zqPi1a9+m0Ol119hPJZHDuIUFN1eJH19BIfstQSndzBocyWUAbBLAlRRtJvY
          0hfJNeF9BGcKHkAIoJSK9WLdvI2u3XJVrqEuodM2D7foMXSFpHr14r3Ah/iebDPI
          67GVdiU42nbauoHZI9ERiveoJ8WnKLlCX6Bgvxm5uTS5C5rmKLNau3x48pE8ROn9
          eVaneGnXUsrQMpALY3Z51IFBOQA1CtrYnEQMGvy64SJ2EQbtA3xSNre9MILafWyh
          C8JAQHcqlBhDBplEb+ZSd7WxKKus/688y+2s+CPIv7po2zp9HOM0v9W57CDlqnJA
          Jl7eBJLpWg4=
          -----END CERTIFICATE-----
        key: |
          -----BEGIN RSA PRIVATE KEY-----
          MIIEowIBAAKCAQEAwazfgxzDVRsYZttohIo7+Gm+SGPba+tqhezafNzp0V5gCyQN
          GaomxfY8f3cuF2nyGba7OBRl2rsRNKPY6oaB87Jwwp5yzR3kW12XurKbt6Isxmbj
          4QmWvehyVkgDF/LGqyd/dBt+Zc/4Gkhw4TIzyQlHiH493ZrQYvaqsNdr6iyBt+LZ
          mK6Fn82XRX014VBIWGJpeo+jcnu5ghIMIh9SV/QxOXOgnU6E4f9yc1ySNRgNi9oE
          M9sWJwWvEqwMQpILU4Q+ph8B3dNmUSYTQzX0vqU9F5kOC0QTVdw/Lt+9dVsM22zh
          DNAF+n1jgA5pd3KRfX6ChMmtSMpiMNZlU7wA8wIDAQABAoIBAE1jUVBnjtmT4RVA
          eKv1PG9PeXwdgpDF2aO397nK4BcL2d65wg5OQf36HURlj+JFMDr8HCUVaXmUJBTf
          n45evtBsrcfmXkL9vcCQTk+IjNY8lB2XAVlrZnNtzToSvkG0fZPoTXJMhh4SkrWV
          2pzxXWXoMlAk+X1yHfBdVekhuvovqo55XU+/mQ3QYG/ZpzU4xQ4r+aqqa9qh/AWP
          K6S2PQAzqvMY20nnrVza8kVPa+YlG27P6s+l+j+LvvpuKSO+3KmqqZtcSkWtGVJk
          JJSonz7gn4nL94uc/wlLXwBwABitv2bfdbnmN4Pq/5D07U4ctRKIf+LO18gWiwen
          zDGKepECgYEA2mqUmXiwlDnoDlY30kWSROcyWsslpMCL49+ur0qNGK9JS3zYt/Qs
          84Ww7AGCd1H3aHDoKFamRvcUs5QKpj3i0lK8WYDfpMk9l8QjZPQXE9yh4sO1kdad
          4Rv98UYLX8tpVfDxjtOeZphZuUZfz5hICg8asAv/tJKwK1AHWZUCc0sCgYEA4wBt
          4J+n1FmYKpr2muHYU8pVVZBG8YRGhTGBLVAlyNxikIDi6faTYCTOZtjBaMGMJOzZ
          JjGucP3tnUh7D9XbsGFm74R3GWmQHgiNk4t0hAlrubdc1tJyEKcoh4e54L3R7DUw
          qD9QZxU8zb3MOCRrBzp8AOTxFrRM66au7IcGd/kCgYBt9NQEgzbaGGDTvuHxUKb3
          WzEFdlnoHCsQuA44Hx7zO2N5xktQKHPs0PQljAkDStdz08t8a0rgVQkt8qx9zo/+
          9DnwESoFym3glpR/AUcQ77Tr9TzWQ6ZNqoroSSv2uO+5nUfucGjBG5en517aor45
          misET7YWUPaxh2N73MFUCwKBgDm8mTXhxdEn/KERixm3ycr+EphRuwmg6ELmZYG9
          +e5Nx7ATaCOz+KYilnDoPsFDQT7/Evg4+LJ6k55Gmi5b6aXCEGlpWtWW2PYanM/j
          T35p2wGAltd47VQ5AAEAz5FPFn6qxLZ2bB/b8fwugyvgb2yGPpYHpR5uO4ZQffth
          GI8ZAoGBAIMGupcelyqZTWajbuT4rJgpeRvXO+jpeQ7ccjvM+9k2gowntmvkWATa
          sBNrpzubO9qb7tPeXhsJtCn3/BLNrRuTYbjtWnplAC8JUUI6X3cJvIhtJfc0pJBl
          FphsARbfCEx5RcYghnx5i8iV+Gzi09nzAuWSn4iAP4Fq0GB5wOq2
          -----END RSA PRIVATE KEY-----
        ca_cert: *loggregator_ca_cert


  loggregator_endpoint:
    shared_secret: "<%= common_password %>"

  logger_endpoint:
    port: 443

  doppler:
    port: 443
    zone: default
    status:
      user: doppler
      password: "<%= common_password %>"
      port: 5768
    message_drain_buffer_size: 100
    uaa_client_id: doppler

  doppler_endpoint:
    shared_secret: "<%= common_password %>"

  traffic_controller:
    zone: default

  smoke_tests:
    api: https://api.<%= root_domain %>
    apps_domain: <%= root_domain %>
    user: smoke_tests
    password: "<%= common_password %>"
    org: CF_SMOKE_TEST_ORG
    space: CF_SMOKE_TEST_SPACE
    skip_ssl_validation: true
    use_existing_org: false
    use_existing_space: false

  acceptance_tests:
    api: https://api.<%= root_domain %>
    apps_domain: <%= root_domain %>
    admin_user: admin
    admin_password: "<%= common_password %>"
    include_logging: true
    include_internet_dependent: true
    include_operator: true
    include_services: true
    include_security_groups: false
    java_buildpack_name: java_buildpack_offline
    nodes: 1
    run_security_groups_tests: false
    run_ssh_tests: true
    skip_diego_unsupported_tests: true
    skip_docker_tests: true
    skip_regex: lucid64
    skip_ssl_validation: true

  cf:
    api_url: https://api.<%= root_domain %>
    admin_username: push_apps_manager
    admin_password: "<%= common_password %>"
    system_domain: <%= root_domain %>

  services:
    authentication:
      CF_CLIENT_ID: portal
      CF_CLIENT_SECRET: "<%= common_password %>"
      CF_LOGIN_SERVER_URL: https://login.<%= root_domain %>
      CF_UAA_SERVER_URL: https://uaa.<%= root_domain %>
